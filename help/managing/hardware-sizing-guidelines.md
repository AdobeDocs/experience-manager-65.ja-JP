---
title: ハードウェアのサイジングのガイドライン
description: このサイジングのガイドラインでは、AEM プロジェクトのデプロイに必要なハードウェアリソースの概算値を示します。
exl-id: 5837ef4f-d4e0-49d7-a671-87d5547e0d98
solution: Experience Manager, Experience Manager 6.5
feature: Compliance
role: Developer,Leader
source-git-commit: 658e1f6e07fb1219ba186137eb8403bf85383723
workflow-type: ht
source-wordcount: '1351'
ht-degree: 100%

---

# ハードウェアのサイジングのガイドライン{#hardware-sizing-guidelines}

このサイジングのガイドラインでは、AEM プロジェクトのデプロイに必要なハードウェアリソースの概算値を示します。サイズの見積もりは、プロジェクトのアーキテクチャ、ソリューションの複雑さ、予想されるトラフィック、プロジェクトの要件に応じて異なります。このガイドを使用すると、具体的なソリューションに必要なハードウェアを特定したり、ハードウェア要件の上限と下限を見積もることができます。

基本的な考慮事項を以下に示します（以下の順序で考慮します）。

* **ネットワーク速度**

   * ネットワーク遅延
   * 利用可能な帯域幅

* **計算速度**

   * キャッシュ効率
   * 予想されるトラフィック
   * テンプレート、アプリケーション、コンポーネントの複雑さ
   * 同時に作業する作成者の数
   * 作成操作（簡易コンテンツ編集、MSM ロールアウトなど）の複雑度

* **I/O パフォーマンス**

   * ファイルまたはデータベースストレージのパフォーマンスと効率

* **ハードドライブ**

   * リポジトリサイズの 2 倍または 3 倍

* **メモリ**

   * Web サイトのサイズ（コンテンツオブジェクト、ページ、ユーザーの数）
   * 同時にアクティブなユーザー／セッションの数

## アーキテクチャ {#architecture}

通常の AEM 設定は、オーサー環境とパブリッシュ環境で構成されます。これらの環境は、基盤となるハードウェアのサイズおよびシステム設定に関して、それぞれ要件が異なります。両方の環境での詳細な考慮事項については、[オーサー環境](/help/managing/hardware-sizing-guidelines.md#author-environment-specific-calculations)と[パブリッシュ環境](/help/managing/hardware-sizing-guidelines.md#publish-environment-specific-calculations)の各節で説明します。

通常のプロジェクト設定では、次のようないくつかの環境でプロジェクトのフェーズを分類します。

* **開発環境**
新しい機能の開発や重要な変更を行うために使用します。開発者ごとに開発環境（個人のシステム上でのローカルインストール）を使用して作業することをお勧めします。

* **オーサーテスト環境**
変更を検証するために使用します。テスト環境の数は、プロジェクトの要件によって異なります（個別の QA 用、統合テスト用、ユーザー受け入れテスト用など）。

* **パブリッシュテスト環境**
主にソーシャルコラボレーションのユースケースをテストしたり、オーサーインスタンスと複数のパブリッシュインスタンス間のインタラクションをテストしたりするために使用します。

* **オーサー実稼動環境**
作成者がコンテンツを編集するために使用します。

* **パブリッシュ実稼動環境**
公開済みコンテンツを提供するために使用します。

また、環境は、AEM とアプリケーションサーバーを実行する単一サーバーシステムから、複数のサーバー、複数の CPU で構成される拡張性の高いクラスターインスタンスに至るまで、多岐にわたります。実稼動システムごとに個別のコンピューターを使用し、これらのコンピューターではその他のアプリケーションを実行しないことをお勧めします。

## ハードウェアサイジングに関する一般的なガイドライン {#generic-hardware-sizing-considerations}

この節では、様々な点を考慮しながら、ハードウェア要件を計算する方法について説明します。大規模なシステムの場合、参照構成でシンプルな一連の社内ベンチマークテストを実行することをお勧めします。

特定のプロジェクトに対してベンチマークテストを行う場合は、基本的な作業として、まずパフォーマンスの最適化を実行します。[パフォーマンスの最適化に関するドキュメント](/help/sites-deploying/configuring-performance.md)に記載されている内容を適用してから、ベンチマークテストを実行して、ハードウェアサイジングの計算結果を使用してください。

高度なユースケースの場合、ハードウェアサイジングの要件は、プロジェクトのパフォーマンスを詳細に評価したうえで計算する必要があります。膨大なハードウェアリソースを必要とする高度なユースケースの特徴を次に示します。

* コンテンツのペイロードが大きく、スループットが高い
* カスタマイズされたコード、カスタムワークフロー、サードパーティのソフトウェアライブラリの広範な使用
* サポートされていない外部システムとの統合

## ディスク容量／ハードドライブ {#disk-space-hard-drive}

必要なディスク容量は、主に web アプリケーションのボリュームとタイプによって決まります。計算では次の項目を考慮する必要があります。

* ページ、アセットおよびリポジトリに保存されているその他のエンティティ（ワークフロー、プロファイルなど）のサイズと量
* 推定されるコンテンツの変更頻度、つまりコンテンツバージョンが作成される頻度
* 生成される DAM アセットレンディションのボリューム
* コンテンツ全体の経時的増大

オンライン、オフラインおよびリビジョンのクリーンアップ中は、ディスク容量が継続的に監視されます。使用可能なディスク容量が臨界値を下回った場合、プロセスはキャンセルされます。臨界値とは、リポジトリのその時点でのディスクフットプリントの 25％であり、変更はできません。ディスクのサイズは、予想されるリポジトリの増加分を含めたリポジトリサイズの 2 倍または 3 倍にすることをお勧めします。

### 仮想化 {#virtualization}

AEM は仮想環境でも動作しますが、CPU や I/O などの要素については、物理ハードウェアと純粋に同等と見なすことはできません。通常、I/O 速度を高くする（一般的に）ことが重要な要因です。必要なリソースを正確に把握するには、環境のベンチマークテストを行う必要があります。

### AEM インスタンスの並列化 {#parallelization-of-aem-instances}

**フェイルセーフ**

フェールセーフ web サイトは、少なくとも 2 つの別々のシステムにデプロイします。1 つのシステムが故障しても、別のシステムが引き継ぐため、システム障害を補うことができます。

**システムリソースのスケーラビリティ**

すべてのシステムを実行しながらでも、コンピューターのパフォーマンスを向上することができます。このパフォーマンスは、必ずしもクラスターノード数に比例して直線的に向上するわけではなく、技術環境に大きく依存します。詳しくは、[クラスタードキュメント](/help/sites-deploying/recommended-deploys.md)を参照してください。

必要なクラスターノードの推定数は、特定の web プロジェクトの基本要件および特定のユースケースによって決まります。

* フェイルセーフの観点では、すべての環境において、障害の重大度を特定し、クラスターノードのリカバリー所要時間に基づいて障害補償時間を決定する必要があります。
* スケーラビリティの面から考えると、基本的には書き込み操作数が最も重要です。読み取り操作のみを行うのにシステムにアクセスする場合は、操作を負荷分散することができます。詳しくは、[Dispatcher](https://experienceleague.adobe.com/docs/experience-manager-dispatcher/using/dispatcher.html?lang=ja) を参照してください。

### ハードウェアに関する推奨事項 {#hardware-recommendations}

通常、オーサー環境では、パブリッシュ環境に推奨されているものと同じハードウェアを使用できます。一般的に、web サイトのトラフィックはオーサリングシステムでは少なくなりますが、キャッシュの効率も低下します。ただし、ここで基本的な要因となるのは、同時操作している作成者の数と、システムに対するアクションの種類です。一般に、（オーサー環境の）AEM クラスタリングは読み取り操作のスケーリングを行うのに最も効果的です。言い換えると、AEM クラスターのスケーリングは、基本的な編集操作を行う作成者にとって適切に機能します。

## その他のユースケース用の計算 {#additional-use-case-specific-calculations}

デフォルト web アプリケーション用の計算に加え、次のユースケースに固有の要因を考慮します。計算された値は、デフォルトの計算結果に加算されます。

### アセットに固有な考慮事項 {#assets-specific-considerations}

デジタルアセットを大規模に処理するには、最適化されたハードウェアリソースが必要になります。最も関連する要因は、画像サイズと、処理された画像のピーク時のスループットです。

16 GB 以上のヒープを割り当て、[Camera Raw パッケージ](/help/assets/camera-raw.md)を使用して Raw 画像を取り込むように、[!UICONTROL DAM アセット更新]ワークフローを設定します。

>[!NOTE]
>
>高い画像のスループットには、システム I/O に遅れずに対応するための計算リソースが必要になります（その逆の場合もあります）。例えば、画像のインポートによってワークフローが開始された場合、多数の画像を WebDAV 経由でアップロードすると、ワークフローのバックログが発生する可能性があります。
>
>TarPM、データストアおよび検索インデックスに個別のディスクを使用することで、システム I/O 動作を最適化できます（ただし、検索インデックスは、通常、ローカルに保持することが合理的です）。

>[!NOTE]
>
>詳しくは、[アセットパフォーマンスガイド](/help/sites-deploying/assets-performance-sizing.md)も参照してください。

### マルチサイトマネージャー {#multi-site-manager}

オーサリング環境で AEM MSM を使用する場合のリソースの消費量は、ユースケースによって大きく異なります。基本的な要因は次のとおりです。

* ライブコピーの数
* ロールアウトの頻度
* ロールアウトするコンテンツツリーのサイズ
* ロールアウトアクションの連携機能

計画されたユースケースをテストする際に代表的なコンテンツを引用すると、リソース消費量をより的確に把握できます。スループット計画から結果を推定することで、AEM MSM で別途必要になるリソースを評価できます。

また、同時に並行して作成者が作業していることも考慮します。AEM MSM のユースケースで予定よりも多くのリソースが消費されると、作成者はパフォーマンスの低下に気付くことになります。

### AEM Communities のサイジングの考慮事項 {#aem-communities-sizing-considerations}

AEM Communities の機能を含む AEM Sites （コミュニティサイト）には、パブリッシュ環境のサイト訪問者（メンバー）から高レベルのインタラクションがあります。

コミュニティサイトのサイジングに関する考慮事項は、コミュニティメンバーによる予測されるインタラクションとページコンテンツの最適なパフォーマンスの重要度が高いかどうかによって異なります。

メンバーによって送信されたユーザー生成コンテンツ（UGC）は、ページコンテンツとは分けて保存されます。AEM プラットフォームではオーサー環境からパブリッシュ環境にサイトコンテンツをレプリケートするノードストアを使用し、AEM Communities では UGC のために単一の共通ストアを使用します。UGC はレプリケートされません。

UGC ストアの場合は、選択したデプロイメントに影響を及ぼすストレージリソースプロバイダー（SRP）を選択する必要があります。
参照先

* [コミュニティコンテンツのストレージ](/help/communities/working-with-srp.md)
* [Communities 用の推奨トポロジ](/help/communities/topologies.md)
