---
title: アダプティブフォームテンプレート
description: テンプレートエディターを使用して基本構造と初期フォームのコンテンツを定義することにより、アダプティブフォームテンプレートを作成します。
contentOwner: sashanka
products: SG_EXPERIENCEMANAGER/6.5/FORMS
topic-tags: develop
docset: aem65
feature: Adaptive Forms, Foundation Components
exl-id: d7287ee7-fb4e-4d47-b37e-0a9260344070
solution: Experience Manager, Experience Manager Forms
source-git-commit: 76fffb11c56dbf7ebee9f6805ae0799cd32985fe
workflow-type: tm+mt
source-wordcount: '2030'
ht-degree: 100%

---

# アダプティブフォームテンプレート{#adaptive-form-templates}

<span class="preview">[アダプティブフォームの新規作成](/help/forms/using/create-an-adaptive-form-core-components.md)または [AEM Sites ページへのアダプティブフォームの追加](/help/forms/using/create-or-add-an-adaptive-form-to-aem-sites-page.md)には、最新の拡張可能なデータキャプチャ[コアコンポーネント](https://experienceleague.adobe.com/docs/experience-manager-core-components/using/adaptive-forms/introduction.html?lang=ja)を使用することをお勧めします。これらのコンポーネントは、アダプティブフォームの作成における大幅な進歩を表し、ユーザーエクスペリエンスの向上を実現します。この記事では、基盤コンポーネントを使用してアダプティブフォームを作成する古い方法について説明します。</span>

| バージョン | 記事リンク |
| -------- | ---------------------------- |
| AEM as a Cloud Service | [ここをクリックしてください](https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/forms/adaptive-forms-authoring/authoring-adaptive-forms-foundation-components/create-an-adaptive-form-on-forms-cs/template-editor.html?lang=ja) |
| AEM 6.5 | この記事 |



フォームを作成する場合、フィールドとコンポーネントを追加して、フォーム構造、コンテンツ、アクションをエディターで定義します。フィールドとコンポーネントは、フォームコンテナの `guideRootPanel` に追加します。テンプレートエディターを使用すると、フォームの作成時に使用できる基本構造と初期コンテンツを含んだテンプレートを作成できます。

例えば、すべての作成者に登録フォームで特定のテキストボックス、ナビゲーションボタン、送信ボタンを使用させるようにします。他の登録フォームと統一のとれたフォームを作成者が作成できるようにコンポーネントを追加してテンプレートを作成できます。作成者がテンプレートを使用してアダプティブフォームを作成する場合、新しいフォームは、テンプレートで指定した構造とコンポーネントを継承します。テンプレートエディターでは、以下のことが行えます。

* 構造レイヤーでフォームのヘッダーおよびフッターコンポーネントを追加できます。
* フォームの初期コンテンツを提供できます。
* テーマや送信アクションを指定できます。

## テンプレートの操作 {#working-with-templates}

**Adobe Experience Manager／ツール／テンプレート**&#x200B;に移動することで、ツールメニューからテンプレートエディターにアクセスできます。テンプレートは、編集可能なテンプレートが有効になっているフォルダーで整理されています。AEM には、テンプレートを整理するグローバルフォルダーが用意されています。ただし、このフォルダーはデフォルトでは無効になっています。グローバルフォルダーを有効にするように管理者に依頼することも、テンプレート用のフォルダーを作成することもできます。フォルダーの作成方法について詳しくは、「[テンプレートフォルダー](/help/sites-developing/page-templates-editable.md)」を参照してください。

フォルダーを選択して開くと、アダプティブフォーム用のテンプレートを作成する「作成」ボタンが表示されます。

### テンプレートの作成 {#create-template}

フォルダーの作成後、フォルダーを開いて以下の手順を実行し、テンプレートを作成します。

1. テンプレートコンソールで、作成したフォルダー内の「**作成**」を選択します。
1. 「テンプレートタイプを選択」セクションで、「**アダプティブフォームテンプレート**」を選択し、「**次へ**」を選択します。

1. 「テンプレート詳細」セクションで、テンプレートのタイトルを指定し、「**作成**」を選択します。
フォームの作成時に作成したテンプレートを選択できるときに表示される説明とサムネールを指定できます。

1. 「**完了**」を選択してコンソールに戻るか、または「**開く**」を選択してテンプレートをエディターで開きます。

### テンプレートエディター UI {#template-editor-ui}

編集対象のテンプレートを開くと、以下の AEM エディターコンポーネントが表示されます。

* **ページツールバー**
以下のオプションが含まれています。

   * **サイドパネルを切り替え**：サイドバーの表示と非表示を切り替えます。
   * **ページ情報**：公開／非公開の時間、サムネール、クライアントサイドライブラリ、ページポリシー、ページデザインのクライアントサイドライブラリなどの情報を指定できます。
   * **エミュレーター**：異なるデバイスの外観をシミュレートしてカスタマイズできます。
   * **レイヤーセレクター：**&#x200B;レイヤーを変更できます。**構造**&#x200B;レイヤーまたは&#x200B;**初期コンテンツ**&#x200B;レイヤーを選択できます。構造レイヤーを使用すると、ヘッダーとフッターを追加してカスタマイズできます。初期コンテンツレイヤーを使用すると、フォームコンテンツをカスタマイズできます。

   * **プレビュー**：テンプレート公開時の外観をプレビューできます。「レイヤーセレクター」と「プレビュー」を使用して、編集モードとプレビューモードを切り替えることができます。

* **サイドバー**：コンテンツブラウザー、プロパティブラウザー、アセットブラウザー、コンポーネントブラウザーを提供します。
* **コンポーネントツールバー**：コンポーネントを選択すると、コンポーネントをカスタマイズできるツールバーが表示されます。
* **ページ**：コンテンツを追加してテンプレートを作成する領域です。

タッチ UI エディターについて詳しくは、[アダプティブフォームのオーサリングの概要](../../forms/using/introduction-forms-authoring.md)を参照してください。

### テンプレートの編集 {#editing-a-template}

アダプティブフォームテンプレートは 2 つのレイヤーを使用して作成されます。

* 構造
* 初期コンテンツ

画面の右上隅の「プレビュー」オプションの横にあるレイヤーセレクターを使用します。

### 構造 {#structure}

テンプレートエディターで構造レイヤーを選択すると、アダプティブフォームコンテナの上および下にレイアウトコンテナを表示できます。作成者はこれらのレイアウトコンテナをヘッダーとフッターに使用できます。ヘッダーとフッターは追加、編集、カスタマイズできます。テンプレートのヘッダーをカスタマイズするには、アダプティブフォームコンテナの上にあるレイアウトコンテナにアダプティブフォームのヘッダーコンポーネントをドラッグ＆ドロップします。テンプレートのフッターをカスタマイズするには、アダプティブフォームコンテナの下にあるレイアウトコンテナにアダプティブフォームのフッターコンポーネントをドラッグ＆ドロップします。

![構造レイヤー内のレイアウトコンテナ](assets/header-layer-selector.png)

構造レイヤー内のレイアウトコンテナ

**A.** ヘッダーコンポーネントのレイアウトコンテナ **B.** フッターコンポーネントのレイアウトコンテナ

アダプティブフォームコンテナの上にあるレイアウトコンテナにアダプティブフォームのヘッダーコンポーネントをドラッグ＆ドロップします。コンポーネントを追加したら、プロパティを指定し、ロゴを追加してそのタイトルを指定できます。

同様に、アダプティブフォームコンテナの下にあるレイアウトコンテナにフッターコンポーネントをドラッグ＆ドロップすると、著作権情報や会社の詳細を指定できます。

![構造レイヤーに追加されたヘッダーとフッター](assets/header-and-footer.png)

構造レイヤーに追加されたヘッダーとフッター

#### 構造レイヤー内のコンポーネントのロック／ロック解除 {#locking-unlocking-components-in-the-structure-layer}

構造レイヤーを選択してテンプレートを編集する際は、テンプレートのヘッダーとフッターのロックを解除できます。テンプレート内のコンポーネントがロック解除されると、フォーム作成者はそのテンプレートを使用するアダプティブフォーム内のコンポーネントを編集できます。コンポーネントをロックすると、フォーム作成者はアダプティブフォーム内でそのコンポーネントを編集できなくなります。ロックオプションはコンポーネントツールバーにあります。

例えば、ヘッダーコンポーネントをテンプレートに追加するとします。コンポーネントを選択すると、コンポーネントツールバーにロックオプションが表示されます。通常、ヘッダーには会社名とロゴが含まれており、フォーム作成者がテンプレート内のロゴとヘッダーを変更できないようにする必要があります。ヘッダーコンポーネントをロックしたテンプレートを使用して作成したアダプティブフォームでは、フォーム作成者はロゴと会社名を変更できません。

>[!NOTE]
>
>ヘッダーコンポーネント内の画像またはロゴを個々にロックまたはロック解除することはお勧めしません。ヘッダーコンポーネントはロック解除できます。

### 初期コンテンツ {#initial-content}

「初期コンテンツ」オプションを選択すると、テンプレートのアダプティブフォームコンテナがアダプティブフォームと同様に開いて編集可能になります。アダプティブフォームを作成する場合と同様、テーマや送信アクションの選択などの初期設定を指定できます。

フォーム作成者はこれをベースにしてフォームを作成します。コンテンツのフロー構造は、テンプレートの初期コンテンツレイヤーで指定されます。フォームテンプレートの初期コンテンツの編集に切り替えるには、ページツールバーでプレビューを実行する前に、![canvas-drop-down](assets/canvas-drop-down.png) **／初期コンテンツ**を選択します。
![テンプレートエディター内の初期コンテンツレイヤー](assets/initial-content-layer.png)

テンプレートエディター内の初期コンテンツレイヤー（プロパティを指定するために選択したアダプティブフォームコンテナを表示）。

![初期コンテンツ](assets/initial-content-layer-1.png)

初期コンテンツレイヤー内で、作成者がベースとして使用するアダプティブフォームテンプレートを作成します。テンプレートの作成はフォームの作成と同様です。サイドバーにあるオプションを使用します。サイドバーは、コンテンツブラウザー、プロパティブラウザー、アセットブラウザー、コンポーネントブラウザーを提供します。

[サイドバー](../../forms/using/introduction-forms-authoring.md#sidebar)を参照してください。

>[!NOTE]
>
>送信アクションとして「コンテンツを保存」または「PDF を保存」を選択すると、ストレージパスを指定するオプションを使用できます。テンプレートでパスを指定した場合、このテンプレートから作成されたすべてのフォームには同じパスが指定されます。正しいストレージパスを指定するか、またはフォーム作成者がストレージパスを更新してすべてのフォームのデータが同じ場所に保存されないようにします。

#### タブとパネルを使用したアダプティブフォームテンプレートの作成 {#creating-an-adaptive-form-template-with-tabs-and-panels-nbsp}

例えば、以下のタブを使用してテンプレートを作成するとします。

* 一般情報
* 職業情報

ロゴを追加し、タイトルを指定して、構造レイヤーにフッターを追加しています。ヘッダーとフッターをロックし、フォーム作成者がテンプレートを使用してフォームを作成する際にヘッダーとフッターが編集されないようにします。

レイヤーを構造から初期コンテンツに変更し、コンテンツをフォームに追加します。タブ付きの構造を作成するには、アダプティブフォームコンテナの guideRootPanel に子パネルを追加します。パネルを追加するには、以下の手順を実行します。

* 「**コンポーネントをここにドラッグ**」オプションを選択する際に **+** ボタンをタップすることで、パネルを追加できます。

* パネルコンポーネントは、サイドバーのコンポーネントブラウザーからドラッグ＆ドロップできます。
* コンポーネントツールバーから `guideRootPanel` の子パネルを追加できます。

「一般情報」および「職業情報」タブを作成するには、2 つのパネルを `guideRootPanel` の子パネルに追加します。パネルを選択して ![cmppr](assets/cmppr.png) を選択し、サイドバーでプロパティを開きます。要素名を `general-info` および `professional-info` に変更し、タイトルを「一般情報」および「職業情報」にそれぞれ変更します。サイドバーでコンテンツを選択し、コンテンツブラウザーを開きます。「フォームオブジェクト」タブで、`guideRootPanel` を選択します。エディターで guideRootPanel が選択されます。コンポーネントツールバーで ![cmppr](assets/cmppr.png) を選択し、プロパティを開きます。パネルレイアウトフィールドで、「**上部のタブ**」を選択し、「**完了**」を選択します。タブ付きのテンプレート構造が適用されます。

#### タブへのコンテンツの追加 {#adding-content-in-tabs}

![アダプティブフォームテンプレートへのフィールドの追加](assets/template-edit-initial-content.png)

パネルを追加してタブとして構造化したら、タブ内にフィールドを追加できます。エディターでタブを選択すると、「**コンポーネントをここにドラッグ**」オプションが表示されます。テキストボックス、リスト項目、ボタンなどのコンポーネントをドラッグ＆ドロップできます。コンポーネントは、サイドバーのコンポーネントブラウザーからドラッグ＆ドロップできます。

各コンポーネントには、データの取得と操作を強化するプロパティが存在します。例えば、コンポーネントの「**必須フィールド**」プロパティを有効にできます。作成者は、顧客が必須フィールドの入力をスキップした場合に表示されるメッセージを指定できます。「**必須フィールドメッセージ**」プロパティにメッセージを指定します。

名前、電話番号、生年月日フィールドが例のテンプレートの「一般情報」タブに追加されます。現在の職業、雇用タイプ、学歴フィールドが「職業情報」タブに追加されます。

フィールドを追加したら、「送信」、「リセット」などのボタンを追加できます。

### テンプレートの有効化 {#enabling-the-template}

作成したテンプレートは、ドラフトとして追加されます。テンプレートを有効化して、アダプティブフォームの作成に使用できるようにします。テンプレートを有効にするには：

1. **Adobe Experience Manager／ツール／テンプレート**&#x200B;に移動して、テンプレートの作成先のフォルダーを開きます。

1. 作成したテンプレートは、ドラフトとしてマークされます。
1. テンプレートを選択し、ツールバーで「**有効**」を選択します。
アダプティブフォームの作成時にテンプレートの選択を求められる際、このテンプレートがリストに表示されるようになります。

## テンプレートの読み込みまたは書き出し {#importing-or-exporting-a-template}

フォームは、テンプレートと連携しています。カスタマイズしたテンプレートを使用して作成したアダプティブフォームをダウンロードする場合、テンプレートはダウンロードされません。別の AEM Forms インスタンス上のフォームを読み込む場合は、テンプレートなしで読み込まれます。フォームが読み込まれてもテンプレートを使用できない場合、フォームはレンダリングされません。`https://<server>:<port>/crx/packmgr` にある `/conf` ノードからカスタムテンプレートをパッケージ化し、フォームをアップロードする AEM Forms インスタンスに移植できます。

## テンプレートを使用したアダプティブフォームの作成 {#creating-an-adaptive-form-using-the-template}

テンプレートを作成して有効にすると、Forms Manager でアダプティブフォームを作成するときにそのテンプレートを使用できます。テンプレートを使用したアダプティブフォームの作成方法について詳しくは、[アダプティブフォームの作成](../../forms/using/creating-adaptive-form.md)を参照してください。

## 標準テンプレートの表示オプションの変更  {#change-display-option-of-out-of-the-box-templates}

アダプティブフォームのカスタムテンプレートを作成して、基本構造と初期コンテンツを定義できます。AEM Forms には、アダプティブフォーム用の一連の標準テンプレートも用意されています。テンプレートの表示／非表示を選択できます。

テンプレートを表示または非表示にするには次の手順を実行します。

1. AEM Forms オーサーインスタンスにログインし、**ツール**／**操作**／**Web コンソール**&#x200B;に移動します。

   >[!NOTE]
   >
   >AEM Web コンソールの URL は、https://&#39;[server]:[port]&#39;/system/console/configMgr です。

1. **FormsManager 設定**&#x200B;を探して開きます。

   * アダプティブフォームの初期設定済みテンプレートを表示または非表示にするには、「**AF および AD の初期設定済みテンプレートを含める**」オプションをオンまたはオフにします。
   * AEM 6.0 Forms または AEM 6.1 Forms リリースで追加され、現在非推奨になっているアダプティブフォームの初期設定済みテンプレートを表示または非表示にするには、「**AEM 6.0 の AF テンプレートを含める**」オプションをオンまたはオフにします。このオプションをオンにした場合、これを有効にするには、「**AF および AD の標準テンプレートを含める**」の設定を有効にする必要があります。

1. 「**保存**」をクリックします。標準テンプレートの表示オプションが変更されます。

## レコメンデーション {#recommendations}

* テンプレートエディターでフォームのプロパティを変更する際は、BindReference プロパティを使用しないようにしてください。
* ブレークポイントを追加する場合は、アダプティブフォームテンプレートの作成時にブレークポイントを作成します。
ブレークポイントについて詳しくは、「[レスポンシブレイアウト](/help/sites-authoring/responsive-layout.md)」を参照してください。
