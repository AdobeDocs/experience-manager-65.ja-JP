---
title: "チュートリアル：テンプレートの作成"
description: インタラクティブ通信用の印刷テンプレートと Web テンプレートの作成
contentOwner: anujkapo
products: SG_EXPERIENCEMANAGER/6.5/FORMS
docset: aem65
feature: Interactive Communication
exl-id: bef1f05e-aea2-433e-b3d5-0b7ad8163fa7
source-git-commit: bd86d647fdc203015bc70a0f57d5b94b4c634bf9
workflow-type: tm+mt
source-wordcount: '1790'
ht-degree: 29%

---

# チュートリアル：テンプレートの作成{#tutorial-create-templates}

![07-apply-rules-to-adaptive-form_small](assets/07-apply-rules-to-adaptive-form_small.png)

これは、「[最初のインタラクティブ通信の作成](/help/forms/using/create-your-first-interactive-communication.md)」シリーズを構成するチュートリアルです。チュートリアルの使用例を理解、実行、デモするために、時系列に従うことをお勧めします。

インタラクティブ通信を作成するには、AEMサーバー上で印刷チャネルと Web チャネル用のテンプレートを使用できる必要があります。

印刷チャネルのテンプレートは、AdobeForms Designer で作成され、AEMサーバーにアップロードされます。 その後、これらのテンプレートは、インタラクティブ通信の作成時に使用できます。

Web チャネルのテンプレートは、AEMで作成されます。 テンプレートの作成者と管理者は、Web テンプレートの作成、編集、有効化をおこなうことができます。 作成して有効にすると、インタラクティブ通信の作成時にこれらのテンプレートを使用できるようになります。

このチュートリアルでは、印刷チャネルと Web チャネル用のテンプレートを作成し、インタラクティブ通信の作成時に使用できるようにする手順を説明します。 このチュートリアルを完了すると、次の操作を実行できるようになります。

* AdobeForms Designer を使用した印刷チャネル用の XDP テンプレートの作成
* XDP テンプレートのAEM Forms Server へのアップロード
* Web チャネル用のテンプレートの作成と有効化

## 印刷チャネル用のテンプレートを作成する {#create-template-for-print-channel}

次のタスクを使用して、インタラクティブ通信の印刷チャネル用のテンプレートを作成および管理します。

* [Forms Designer を使用して XDP テンプレートを作成する](../../forms/using/create-templates-print-web.md#create-xdp-template-using-forms-designer)
* [XDP テンプレートをAEM Forms Server にアップロードする](../../forms/using/create-templates-print-web.md#upload-xdp-template-to-the-aem-forms-server)
* [レイアウトフラグメント用の XDP テンプレートの作成](../../forms/using/create-templates-print-web.md#create-xdp-template-for-layout-fragments)

### Forms Designer を使用して XDP テンプレートを作成する {#create-xdp-template-using-forms-designer}

[ユースケース](/help/forms/using/create-your-first-interactive-communication.md)および[分析](/help/forms/using/planning-interactive-communications.md)に基づき、XDP テンプレート内に、次のサブフォームを作成します。

* 請求の詳細：ドキュメントフラグメントが含まれます
* 顧客の詳細：ドキュメントフラグメントが含まれます
* 請求要約：ドキュメントフラグメントが含まれます
* 概要：ドキュメントフラグメント（Charges サブフォーム）とグラフ（Charts サブフォーム）が含まれます
* 通話明細：テーブル（レイアウトフラグメント）が含まれます
* Pay Now：画像が含まれます
* 付加価値サービス：画像が含まれます

![create_print_template](assets/create_print_template.gif)

XDP ファイルをForms Server にアップロードすると、これらのサブフォームは印刷テンプレートのターゲット領域として表示されます。 インタラクティブ通信の作成時に、ドキュメントフラグメント、グラフ、レイアウトフラグメント、画像などのすべてのエンティティがターゲット領域に追加されます。

印刷チャネル用の XDP テンプレートを作成するには、次の手順を実行します。

1. Forms Designer を開き、「 **ファイル** > **新規** > **空白のフォームを使用し、** 選択 **次へ**&#x200B;を選択し、 **完了** をクリックして、テンプレート作成用のフォームを開きます。

   **ウィンドウ**&#x200B;メニューから「**オブジェクトライブラリ**」および「**オブジェクト**」オプションが選択されていることを確認します。

1. **サブフォーム**&#x200B;コンポーネントを&#x200B;**オブジェクトライブラリ**&#x200B;からフォームにドラッグアンドドロップします。
1. サブフォームを選択して、 **オブジェクト** ウィンドウを右側のウィンドウに表示します。
1. 「**サブフォーム**」タブを選択し、「**コンテンツ**」ドロップダウンリストから「**フローレイアウト**」を選択します。長さを調整するには、サブフォームの左側の端点をドラッグします。
1. 「**連結**」タブで、次の手順を実行します。

   1. 「**名前**」フィールドに、**BillDetails** と入力します。

   1. 「**データ連結**」ドロップダウンリストから「**データ連結なし**」を選択します。

   ![Designer サブフォーム](assets/forms_designer_subform_new.png)

1. 同様に、ルートサブフォームを選択し、「**サブフォーム**」タブを選択し、「**コンテンツ**」ドロップダウンリストから「**フローレイアウト**」を選択します。「**連結**」タブで、次の手順を実行します。

   1. 「**名前**」フィールドに **TelecaBill** と入力します。

   1. 「**データ連結**」ドロップダウンリストから「**データ連結なし**」を選択します。

   ![印刷テンプレートのサブフォーム](assets/root_subform_print_template_new.png)

1. 手順 2 ～ 5 を繰り返して、次のサブフォームを作成します。

   * BillDetails
   * CustomerDetails
   * BillSummary
   * 概要 - このサブフォームの「**サブフォーム**」タブを選択し、「**コンテンツ**」ドロップダウンリストから「**配置済み**」を選択します。次のサブフォームを **概要** サブフォーム。

      * 料金
      * グラフ

   * ItemisedCalls
   * PayNow
   * ValueAddedServices

   時間を節約するために、既存のサブフォームをコピーして貼り付け、追加のサブフォームを作成することもできます。

   次の手順で、 **グラフ** Charges サブフォームの右側にあるサブフォームで、 **グラフ** サブフォームを左側のウィンドウから選択し、 **レイアウト** 」タブをクリックし、 **AnchorX** フィールドに入力します。 指定する値は、**料金**&#x200B;サブフォームの「**幅**」フィールドの値よりも大きい値である必要があります。を選択します。 **料金** サブフォームを開き、 **レイアウト** 」タブを使用して、 **幅** フィールドに入力します。

1. **テキスト**&#x200B;オブジェクトを、**オブジェクトライブラリ**&#x200B;からフォームにドラッグアンドドロップし、ボックスに **Dial XXXX to subscribe** とテキストを入力します。
1. 左側のペインのテキストオブジェクトを右クリックし、「**オブジェクト名の変更**」を選択し、「**登録**」として、テキストオブジェクト名を入力します。

   ![XDP テンプレート](assets/print_xdp_template_subform_new.png)

1. ローカルのファイルシステムにファイルを保存するには、**ファイル**／**名前を付けて保存**&#x200B;を選択して、次の手順を実行します。

   1. ファイルを保存できる場所に移動し、名前をとして指定します。 **create_first_ic_print_template**.
   1. 選択 **.xdp** から **名前を付けて保存** 」ドロップダウンリストから選択できます。

   1. 「**保存**」を選択します。

### XDP テンプレートをAEM Forms Server にアップロードする {#upload-xdp-template-to-the-aem-forms-server}

Forms Designer を使用して XDP テンプレートを作成したら、そのテンプレートをAEM Forms Server にアップロードして、インタラクティブ通信の作成時に使用できるようにする必要があります。

1. **[!UICONTROL フォーム]**／**[!UICONTROL フォームとドキュメント]**&#x200B;を選択します。
1. 選択 **作成** > **ファイルのアップロード**.

   に移動して選択します。 **create_first_ic_print_template** template (XDP) と選択 **開く** をクリックして、XDP テンプレートをAEM Forms Server に読み込みます。

### レイアウトフラグメント用の XDP テンプレートの作成 {#create-xdp-template-for-layout-fragments}

インタラクティブ通信の印刷チャネル用のレイアウトフラグメントを作成するには、Forms Designer を使用して XDP を作成し、AEM Forms Server にアップロードします。

1. Forms Designer を開き、「 **ファイル** > **新規** > **空白のフォームを使用し、** 選択 **次へ**&#x200B;を選択し、 **完了** をクリックして、テンプレート作成用のフォームを開きます。

   「**オブジェクトライブラリ**」および「**オブジェクト**」オプションが **Window** メニューから選択されていることを確認します。

1. **テーブル**&#x200B;コンポーネントを&#x200B;**オブジェクトライブラリ**&#x200B;からフォームにドラッグ＆ドロップします。
1. テーブルの挿入ダイアログで、次の手順を実行します。

   1. 列数を次のように指定します。 **5**.
   1. ボディ行の数を次のように指定します。 **1**.
   1. を選択します。 **テーブルにヘッダー行を含める** チェックボックス。
   1. タブ **OK**.

1. 選択 **+** の隣の左側のウィンドウで **テーブル** 1.右クリック **セル 1** を選択し、 **オブジェクト名を変更** から **日付**.

   同様に、名前を変更します。 **セル 2**, **セル 3**, **セル 4**、および **セル 5** から **時間**, **数値**, **期間**、および **料金** それぞれ。

1. 「**Designer View**」のヘッダーテキストフィールドをクリックして、それらの名前を&#x200B;**時刻**、**番号**、**時間**&#x200B;および&#x200B;**料金**&#x200B;に変更します。

   ![レイアウトフラグメント](assets/layout_fragment_print_new.png)

1. 左側のペインから&#x200B;**Row 1** を選択し、「**オブジェクト**／**連結**／**各データアイテムについて行を繰り返す**」を選択します。

   ![レイアウトフラグメントのプロパティを繰り返す](assets/layout_fragment_print_repeat_new.png)

1. **テキストフィールド**&#x200B;コンポーネントを&#x200B;**オブジェクトライブラリ**&#x200B;から **Designer View** にドラッグ＆ドロップします。

   ![レイアウトフラグメントのテキストフィールド](assets/layout_fragment_print_text_field_new.png)

   同様に、 **テキストフィールド** コンポーネントを **時間**, **数値**, **期間**、および **料金** 行。

1. ローカルのファイルシステムにファイルを保存するには、**ファイル**／**名前を付けて保存**&#x200B;を選択して、次の手順を実行します。

   1. ファイルを保存できる場所に移動し、名前をとして指定します。 **table_lf**.
   1. 選択 **.xdp** から **名前を付けて保存** 」ドロップダウンリストから選択できます。

   1. 「**保存**」を選択します。

   Forms Designer を使用してレイアウトフラグメントの XDP テンプレートを作成したら、次の手順を実行します。 [アップロード](../../forms/using/create-templates-print-web.md#upload-xdp-template-to-the-aem-forms-server) AEM Forms Server に送信され、レイアウトフラグメントの作成時にテンプレートを使用できるようになります。

## Web チャネル用のテンプレートの作成 {#create-template-for-web-channel}

次のタスクを使用して、インタラクティブ通信の Web チャネル用のテンプレートを作成および管理します。

* [テンプレート用フォルダーの作成](../../forms/using/create-templates-print-web.md#create-folder-for-templates)
* [テンプレートの作成](../../forms/using/create-templates-print-web.md#create-the-template)
* [テンプレートの有効化](../../forms/using/create-templates-print-web.md#enable-the-template)
* [インタラクティブ通信でボタンの有効化](../../forms/using/create-templates-print-web.md#enabling-buttons-in-interactive-communications)

### テンプレート用のフォルダーの作成 {#create-folder-for-templates}

Web チャネルテンプレートを作成するには、作成したテンプレートを保存できるフォルダーを定義します。 そのフォルダー内にテンプレートを作成したら、テンプレートを有効にして、フォームユーザーがテンプレートに基づいてインタラクティブ通信の Web チャネルを作成できるようにします。

編集可能テンプレート用のフォルダーを作成するには、次の手順を実行します。

1. 選択 **ツール** ![ハンマーアイコン](assets/hammer-icon.svg) > **設定ブラウザー**.
   * 詳しくは、[設定ブラウザー](/help/sites-administering/configurations.md)のドキュメントを参照してください。
1. 設定ブラウザーページで、「 」を選択します。 **作成**.
1. Adobe Analytics の **設定を作成** ダイアログ、指定 **Create_First_IC_templates** フォルダーのタイトルとして、 **編集可能なテンプレート**&#x200B;をクリックし、次を選択します。 **作成**.

   ![Web テンプレートの設定](assets/create_first_ic_web_template_new.png)

   **Create_First_IC_templates** フォルダーが作成され、**設定ブラウザー**&#x200B;ページに表示されます。

### テンプレートの作成 {#create-the-template}

[ユースケース](/help/forms/using/create-your-first-interactive-communication.md)および[分析](/help/forms/using/planning-interactive-communications.md)に基づき、web テンプレート内に、次のパネルを作成します。

* 請求の詳細：ドキュメントフラグメントが含まれます
* 顧客の詳細：ドキュメントフラグメントが含まれます
* 請求要約：ドキュメントフラグメントが含まれます
* 請求の概要：ドキュメントフラグメントとグラフ（2 列レイアウト）が含まれます
* 通話項目別：テーブルが含まれます
* Pay Now：「**Pay Now**」ボタンと画像が含まれます
* 付加価値サービス：画像と「**登録**」ボタンが含まれます。

![create_web_template](assets/create_web_template.gif)

インタラクティブ通信の作成時に、ドキュメントフラグメント、グラフ、テーブル、画像、ボタンなどのすべてのエンティティが追加されます。

Web チャネル用のテンプレートを **Create_First_IC_templates** フォルダーに移動するには、次の手順を実行します。

1. 適切なテンプレートフォルダーに移動するには、 **ツール** > **テンプレート** > **Create_First_IC_templates** フォルダー。
1. 「**作成**」を選択します。
1. 次の日： **テンプレートタイプを選択** 設定ウィザード：「」を選択します。 **インタラクティブ通信 — Web チャネル** を選択し、 **次へ**.
1. 「**テンプレート詳細**」設定ウィザードで、テンプレートタイトルとして **Create_First_IC_Web_Template** を指定します。オプションで説明を指定し、「 」を選択します。 **作成**.

   **Create_First_IC_Web_Template** という確認メッセージが表示されます。

1. 選択 **開く** をクリックして、テンプレートエディターでテンプレートを開きます。
1. 選択 **初期コンテンツ** を選択します。 **プレビュー** オプション。

   ![テンプレートエディター](assets/template_editor_initial_content_new.png)

1. 選択 **ルートパネル** 次に、「 **+** をクリックして、テンプレートに追加できるコンポーネントのリストを表示します。
1. パネルを **ルートパネル**&#x200B;を選択します。 **パネル** を選択します。
1. を選択します。 **コンテンツ** 」タブをクリックします。 手順 8 で追加された新しいパネルが、 **ルートパネル** コンテンツツリー内。

   ![コンテンツツリー](assets/content_tree_root_panel_new.png)

1. パネルを選択し、「 」を選択します。 ![configure_icon](assets/configure_icon.png) （設定）を参照してください。
1. [ プロパティ ] ペインで、次の操作を行います。

   1. 指定 **billdetails** 「名前」フィールドに入力します。
   1. 指定 **請求の詳細** 」と入力します。
   1. 選択 **1** から **列数** 」ドロップダウンリストから選択できます。

   1. プロパティを保存するには、「 」を選択します。 ![保存](/help/forms/using/assets/done_icon.png).

   パネルの名前がに更新されます。 **請求の詳細** コンテンツツリー内。

1. 手順 7 ～ 11 を繰り返して、次のプロパティを持つパネルをテンプレートに追加します。

   | 名前 | タイトル | 列数 |
   |---|---|---|
   | customerdetails | 顧客の詳細 | 1 |
   | billsummary | 請求の要約 | 1 |
   | 要約金 | 請求概要 | 2 |
   | itemisedcalls | 通話項目別 | 1 |
   | paynow | 今すぐ支払う | 2 |
   | 輸管 | 付加価値サービス | 1 |

   以下の画像では、すべてのパネルをテンプレートに追加した後のコンテンツツリーを示しています。

   ![すべてのパネルのコンテンツツリー](assets/content_tree_all_panels_new.png)

### テンプレートの有効化 {#enable-the-template}

Web テンプレートを作成したら、インタラクティブ通信の作成時にテンプレートを使用できるようにする必要があります。

Web テンプレートを有効にするには、次の手順を実行します。

1. 選択 **ツール** ![ハンマーアイコン](assets/hammer-icon.svg) > **テンプレート**.
1. 次に移動： **Create_First_IC_Web_Template** テンプレートを選択し、「 **有効にする**.
1. 選択 **有効にする** 再び確認します。

   テンプレートが有効になり、そのステータスが「有効」と表示されます。 Web チャネル用のインタラクティブ通信を作成する際に、このテンプレートを使用できます。

### インタラクティブ通信でボタンの有効化 {#enabling-buttons-in-interactive-communications}

ユースケースに基づいて、 **今すぐ支払う** および **購読** ボタン（アダプティブフォームコンポーネント）をインタラクティブ通信で使用する場合。 インタラクティブ通信でこれらのボタンを使用できるようにするには、次の操作を行います。

1. 「**プレビュー**」オプションの隣にあるドロップダウンリストから、「**構造**」を選択します。
1. を選択します。 **ドキュメントコンテナ** コンテンツツリーを使用したルートパネルの「 」を選択します。 **ポリシー** をクリックして、インタラクティブ通信で使用できるコンポーネントを選択します。

   ![ポリシーの設定](assets/structure_configure_policy_new.png)

1. Adobe Analytics の **許可されたコンポーネント** タブ **プロパティ** セクション、選択 **ボタン** から **アダプティブフォーム** コンポーネント。

   ![許可されたコンポーネント](assets/allowed_components_af_new.png)

1. プロパティを保存するには、「 」を選択します。 ![保存](assets/done_icon.png).
