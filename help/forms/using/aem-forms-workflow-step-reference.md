---
title: OSGi 上の Forms 中心のワークフロー - ステップリファレンス
seo-title: OSGi 上の Forms 中心のワークフロー - ステップリファレンス
description: OSGi ステップ上の Forms 中心のワークフローにより、アダプティブフォームをベースとしたワークフローを迅速に構築できます。
seo-description: OSGi ステップ上の Forms 中心のワークフローにより、アダプティブフォームをベースとしたワークフローを迅速に構築できます。
uuid: 6f791c45-0e35-4c55-9106-5340caab94b7
products: SG_EXPERIENCEMANAGER/6.5/FORMS
topic-tags: publish
discoiquuid: f0a5588d-f210-4f04-bc35-b62834f90ab1
docset: aem65
translation-type: tm+mt
source-git-commit: a873cf3e7efd3bc9cd4744bf09078d9040efcdda
workflow-type: tm+mt
source-wordcount: '7109'
ht-degree: 51%

---


# OSGi 上の Forms 中心のワークフロー - ステップリファレンス{#forms-centric-workflow-on-osgi-step-reference}

## Forms のワークフローステップ {#forms-workflow-steps}

Forms ワークフローステップは、AEM ワークフローで AEM Forms 固有の操作を実行します。これらのステップを使用すると、OSGi でアダプティブフォームをベースとした Forms 中心型ワークフローを迅速に構築できます。これらのワークフローは、基本的なレビューと承認のワークフロー、内部およびファイアウォール全体のビジネスプロセスの開発に使用できます。 Forms ワークフローを使用して、ドキュメントサービスの開始や Adobe Sign 署名ワークフローとの統合など、AEM Forms の操作を実行することもできます。これらのステップをワークフローで使用するには、[AEM Forms アドオン](https://www.adobe.com/go/learn_aemforms_documentation_63)が必要です。

## タスクを割り当てステップ {#assign-task-step}

タスクを割り当てステップは、タスクを作成してユーザーまたはグループに割り当てます。このコンポーネントは、タスクの割り当てに加えて、タスクのアダプティブフォームまたは非インタラクティブ PDF を指定します。アダプティブフォームは、ユーザーからの入力を受け取るために必要です。また、非インタラクティブ PDF または読み取り専用のアダプティブフォームは、レビュー専用のワークフローに使用されます。

このコンポーネントを使用すると、タスクの動作を制御することもできます。例えば、レコードのドキュメントの自動作成、特定のユーザーまたはグループへのタスクの割り当て、送信済みデータのパスの指定、事前入力されるデータのパスの指定、デフォルトアクションの指定が対象になります。タスクを割り当てステップには、次のプロパティがあります。

* **タイトル：**&#x200B;タスクのタイトル。タイトルは AEM インボックスに表示されます。
* **説明：**&#x200B;タスクで実行される操作の説明。この情報は、共有開発環境で作業している場合に他のプロセス開発者にとって有用です。

* **サムネールのパス：**&#x200B;タスクサムネールのパス。パスを指定しない場合、アダプティブフォームではデフォルトのサムネールが表示され、レコードのドキュメントではデフォルトのアイコンが表示されます。
* **ワークフローステージ：** 1 つのワークフローに複数のステージを含めることができます。これらのステージは、AEM インボックスに表示されます。これらのステージは、モデルのプロパティ（サイドキック／ページ／ページのプロパティ／ステージ）で定義できます。
* **優先度：**&#x200B;選択した優先度が AEM インボックスに表示されます。使用可能なオプションは、「高」、「中」および「低」です。デフォルト値は「中」です。
* **期限：**&#x200B;タスクが期限切れとマークされるまでの日数または時間数を指定します。「**オフ**」を選択した場合、タスクが期限切れとマークされることはありません。タイムアウトハンドラーを指定して、タスクが期限切れになった後に特定のタスクを実行することもできます。

* **日：**&#x200B;タスクを完了するまでの日数。この日数は、タスクがユーザーに割り当てられた後にカウントされます。タスクが完了せず、「日」フィールドに指定された日数を過ぎると、期限後にタイムアウトハンドラー（選択した場合）が呼び出されます。
* **時間：**&#x200B;タスクを完了するまでの時間数。この時間数は、タスクがユーザーに割り当てられた後にカウントされます。タスクが完了せず、「時間」フィールドに指定された時間数を過ぎると、期限後にタイムアウトハンドラー（選択した場合）が呼び出されます。
* **期限後にタイムアウト：**&#x200B;このオプションを選択して、タイムアウトハンドラー選択フィールドを有効にします。
* **タイムアウトハンドラー：**&#x200B;タスクを割り当てステップが期限切れになったときに実行するスクリプトを選択します。[apps]/fd/ダッシュボード/scripts/timeoutHandlerにあるCRX-repositoryに配置されたスクリプトを選択できます。 指定されたパスは crx リポジトリに存在しません。このパスは、使用する前に管理者が作成します。
* **タスクの詳細で最後のタスクのアクションとコメントを強調表示する：**&#x200B;タスクの詳細セクションで最後に実行されたアクションと受け取ったコメントを表示するには、このオプションを選択します。
* **タイプ：**&#x200B;ワークフローの開始時に入力するドキュメントのタイプを選択します。アダプティブフォーム、読み取り専用アダプティブフォーム、非インタラクティブPDFドキュメント、Interactive Communication Agent UI、またはInteractive Communication Webチャネルドキュメントを選択できます。
* **アダプティブフォームを使用：入力されたアダプティブフォームを検索する方法を** 指定します。このオプションは、「タイプ」ドロップダウンリストから「アダプティブフォーム」または「読み取り専用」のアダプティブフォームを選択した場合に使用できます。 ワークフローに送信されたアダプティブフォームを使用することも、絶対パスで使用することも、変数内のパスで使用することもできます。 パスを指定するには、String型の変数を使用します。\
   複数のアダプティブフォームをワークフローに関連付けることができます。 その結果、使用可能な入力メソッドを使用して、ランタイム上のアダプティブフォームを指定できます。

* **対話型通信を使用：入力された対話型通信を検索する方法を** 指定します。ワークフローに送信されたインタラクティブな通信を使用したり、絶対パスで使用したり、変数内のパスで使用したりできます。 パスを指定するには、String型の変数を使用します。 このオプションは、[タイプ]ドロップダウンリストから[対話型通信エージェントUI]または[対話型通信Webチャネル]ドキュメントを選択した場合に使用できます。

>[!NOTE]
>
>AEM受信トレイのInteractive Communications Agent UIにアクセスするには、cm-agent-usersとworkflow-usersグループの割り当てが必要です。

* **アダプティブフォームまたはインタラクティブ通信パス**:アダプティブフォームまたはインタラクティブコミュニケーションのパスを指定します。ワークフローに送信されたアダプティブフォームやインタラクティブな通信、絶対パスでの利用、またはstringデータ型の変数に保存されたパスからのアダプティブフォームの取得を使用できます。
* **次を使用して入力PDFを選択：非インタラクティブPDFドキュメントのパスを** 指定します。このフィールドは、「タイプ」フィールドで非インタラクティブ PDF ドキュメントを選択した場合に使用できます。入力PDFは、ペイロードに対する相対パス、絶対パスで保存、またはドキュメントデータ型の変数を使用して選択できます。 例えば、[Payload_Directory]/Workflow/PDF/credit-card.pdfのように指定します。 このパスは crx リポジトリに存在しません。このパスは、使用する前に管理者が作成します。「PDF のパス」オプションを使用する場合は、有効な「レコードのドキュメント」オプションか、フォームテンプレートベースのアダプティブフォームが必要です。
* **完了したタスクのアダプティブフォームを次の形式でレンダリングする：**&#x200B;タスクが完了とマークされると、アダプティブフォームを読み取り専用のアダプティブフォームまたは PDF ドキュメントとしてレンダリングできます。アダプティブフォームをレコードのドキュメントとしてレンダリングするには、有効な「レコードのドキュメント」オプションか、フォームテンプレートベースのアダプティブフォームが必要です。
* **事前入力：** 次に示すフィールドは、タスクへの入力として機能します。

   * **次を使用して入力データファイルを選択：** 入力データファイルのパス(.json,.xml、.doc、またはフォームデータモデルを参照)。 ペイロードに対する相対パスを使用して入力データファイルを取得したり、ドキュメント、XML、またはJSONデータ型の変数に格納されたファイルを取得したりできます。 例えば、ファイルには、AEM インボックスアプリケーションを介してフォームに送信されるデータが含まれています。パスの例は、[Payload_Directory]/workflow/dataです。
   * **「input attachments using:** Attachments available at the location are attachments to the form associated to the location associated theタスク。必ずペイロードに対する相対パスを指定します。パスの例は、[Payload_Directory]/attachments/です。
   * **入力JSONを選択：ペイロードに対する相対パス、またはドキュメント、JSON、またはフォームデータモデルのデータタイプの変数に格納されたパスを使用して、入力JSONファイルを** 選択します。このオプションは、[タイプ]ドロップダウンリストから[対話型通信エージェントUI]または[対話型通信Webチャネル]ドキュメントを選択した場合に使用できます。
   * **カスタムの事前入力サービスを選択：事前入力サービスを** 選択して、データを取得し、Interactive Communication WebチャネルドキュメントまたはエージェントUIを事前入力します。

   * **上で選択した対話型通信の事前入力サービスを使用：** このオプションは、「対話型通信を使用」ドロップダウンリストで定義された対話型通信の事前入力サービスを使用する場合に使用します。
   * **リクエスト属性のマッピング：「リクエスト属性のマッピング」セクションを** 使用して、リクエスト属性の [名前と値を定義します](../../forms/using/work-with-form-data-model.md#bindargument)。リクエストで指定された属性名と値に基づいて、データソースから詳細を取得します。 リテラル値またはStringデータ型の変数を使用して、要求属性値を定義できます。\
      事前入力サービスと要求属性のマッピングオプションは、「タイプ」ドロップダウンリストから「Interactive Communication Agent UI」または「Interactive Communication Webチャネル」ドキュメントを選択した場合にのみ使用できます。

* **送信される情報：**&#x200B;以下のフィールドは、タスクの出力先として使用できます。

   * **次を使用して出力データファイルを保存：データファイル(.json,.** xml、.doc、またはフォームデータモデルを参照)。 このデータファイルには、関連付けられたフォームを介して送信された情報が含まれます。ペイロードに対する相対パスを使用して出力データファイルを保存するか、ドキュメント、XMLまたはJSONデータ型の変数に保存できます。 例えば、[Payload_Directory]/Workflow/dataのように指定します。ここで、dataはファイルです。
   * **添付ファイルの保存方法：添付ファイルをタスクに** 保存します。ペイロードに対する相対パスを使用して添付ファイルを保存するか、ドキュメントデータタイプの配列の変数に保存できます。
   * **次を使用してレコードのドキュメントを保存：** Pathを使用して、レコードファイルのドキュメントを保存します。例えば、[Payload_Directory]/DocumentofRecord/credit-card.pdfのように指定します。 レコードのドキュメントは、ペイロードに対する相対パスを使用して保存するか、ドキュメントデータ型の変数に格納できます。 「**ペイロード**&#x200B;に対する相対」オプションを選択した場合、パスフィールドが空のままの場合、レコードのドキュメントは生成されません。 このオプションは、「タイプ」ドロップダウンリストから「アダプティブフォーム」を選択した場合にのみ使用できます。

   * **次を使用してWebチャネルデータを保存：ペイロードに対する相対パスを使用してWebチャネルデータファイルを** 保存するか、ドキュメント、JSONまたはフォームデータモデルのデータ型の変数に保存します。このオプションは、[タイプ]ドロップダウンリストから[Interactive Communication Agent UI]を選択した場合にのみ使用できます。
   * **次を使用してPDFドキュメントを保存：ペイロードに対する相対パスを使用してPDFドキュメントを** 保存するか、ドキュメントデータタイプの変数に保存します。このオプションは、[タイプ]ドロップダウンリストから[Interactive Communication Agent UI]を選択した場合にのみ使用できます。
   * **次を使用してレイアウトテンプレートを保存：ペイロードに対する相対パスを使用するか、ドキュメントデータタイプの変数に保存します。** [レイアウトテンプレート](../../forms/using/layout-design-details.md)は、Formsデザイナを使用して作成したXDPファイルを参照します。 このオプションは、[タイプ]ドロップダウンリストから[Interactive Communication Agent UI]を選択した場合にのみ使用できます。

* **担当者/割り当てオプション：タスクをユーザーに割り当てる方法を** 指定します。参加者選択スクリプトを使用してタスクを動的にユーザーまたはグループに割り当てることも、タスクを特定の AEM ユーザーまたはグループに割り当てることもできます。
* **参加者選択：**&#x200B;このオプションは、「割り当てオプション」フィールドで「**ユーザーまたはグループに動的に割り当て**」オプションを選択した場合に使用できます。ユーザーまたはグループを動的に選択するには、ECMAScript またはサービスを使用できます。詳しくは、[ワークフローを動的にユーザーに割り当てる方法](https://helpx.adobe.com/jp/experience-manager/kb/HowToAssignAWorkflowDynamicallyToParticipants.html)および [Adobe Experience Manager のカスタム動的参加者ステップの作成](https://helpx.adobe.com/jp/experience-manager/using/dynamic-steps.html)を参照してください。

* **参加者：**&#x200B;このオプションは、参加者選択フィールドで「**[!UICONTROL com.adobe.granite.workflow.core.process.RandomParticipantChooser]****」オプションが選択されている場合に使用できます。**&#x200B;このフィールドでは、「RandomParticipantChooser」オプションのユーザーまたはグループを選択できます。

* **担当者：** このフィールドは、「 **[!UICONTROL 参加者選択」フィールドで「com.adobe.fd.workspace.step.service.]** VariableParticipantChooseris」が選択されている場合に使用 **** できます。このフィールドでは、Stringデータ型の変数を選択して、担当者を定義できます。

* **引数：**&#x200B;このフィールドは、参加者選択フィールドで RandomParticipantChoose スクリプト以外のスクリプトが選択されている場合に使用できます。このフィールドでは、参加者選択フィールドで選択したスクリプトに渡すコンマ区切りの引数のリストを指定できます。

* **ユーザーまたはグループ：**&#x200B;選択したユーザーまたはグループにタスクが割り当てられます。このオプションは、「割り当てオプション」フィールドで「**特定のユーザーまたはグループに割り当て**」オプションを選択した場合に使用できます。****&#x200B;このフィールドには、ワークフローユーザーグループのすべてのユーザーとグループが一覧表示されます。\
   **ユーザーまたはグループ**&#x200B;ドロップダウンメニューには、ログインしているユーザーおよびグループがアクセスできるリストが表示されます。 ユーザー名の表示は、その特定のユーザーのcrx-repositoryの&#x200B;**users**&#x200B;ノードに対するアクセス権限があるかどうかによって異なります。

* **担当者に電子メールで通知する：**&#x200B;電子メール通知を担当者に送信するには、このオプションを選択します。この通知は、タスクがユーザーに割り当てられたときに送信されます。このオプションを使用する前に、AEM Web コンソールからの通知を有効にしてください。詳しい手順については、[タスクを割り当てステップの電子メール通知の設定](../../forms/using/aem-forms-workflow.md)を参照してください。

* **HTML 電子メールテンプレート：**&#x200B;通知電子メールの電子メールテンプレートを選択します。テンプレートを編集するには、crx リポジトリの /libs/fd/dashboard/templates/email/htmlEmailTemplate.txt にあるファイルを変更します。
* **委任を許可：** AEM インボックスには、ログインユーザーが、割り当てられたワークフローを別のユーザーに委任するオプションが用意されています。同じグループ内または別のグループのワークフローユーザーに委任することができます。タスクが 1 人のユーザーに割り当てられていて、「**担当者グループのメンバーへの委任を許可する**」オプションが選択されている場合、そのタスクを別のユーザーまたはグループに委任することはできません。
* **共有設定：AEM** インボックスに、受信トレイ内の1人またはすべてのタスクを他のユーザーと共有するオプションが用意されています。
   * 「**担当者がinbox**&#x200B;で明示的に共有することを許可」オプションが選択されている場合は、タスクをクリックして、別のAEMユーザーと共有できます。
   * 「**受信トレイを介した共有を担当者に許可する**」オプションを選択し、ユーザーが自分の受信トレイアイテムを共有したり、他のユーザーが自分の受信トレイアイテムにアクセスできるようにした場合、前述のオプションが有効なタスクのみが他のユーザーと共有されます。

* **アクション/デフォルトのアクション：** デフォルトで、「送信」、「保存」、「リセット」の各アクションを使用できます。デフォルトのアクションはすべて、デフォルトで有効になっています。
* **ルート変数：**&#x200B;ルート変数の名前。ルート変数は、ユーザーが AEM インボックスで選択したカスタムアクションを取得します。
* **ルート：**&#x200B;タスクは様々なルートに分岐することができます。AEM インボックスで選択すると、ルートから値が返され、選択したルートに基づいてワークフローが分岐します。ルートは、Stringデータ型の配列の変数に格納するか、**Literal**&#x200B;を選択して手動でルートを追加できます。

* **タイトル**:ルートのタイトルを指定します。タイトルは AEM インボックスに表示されます。
* **Coral アイコン：** Coral アイコンの HTML 属性を指定します。Adobe CorelUI ライブラリでは、多数のタッチファーストなアイコンを提供します。ルートのアイコンを選択して使用することができます。アイコンは、タイトルと共に AEM インボックスに表示されます。変数にルートを格納した場合、ルートにはデフォルトの「タグ」サンゴアイコンが使用されます。
* **担当者によるコメントの追加を許可：**&#x200B;タスクのコメントを有効にするには、このオプションを選択します。担当者は、タスクの送信時に AEM インボックス内からコメントを追加できます。
* **変数にコメントを保存：Stringデータ型の変数にコメントを** 保存します。このオプションは、「**担当者にコメントの追加を許可する**」チェックボックスを選択した場合にのみ表示されます。

* **担当者によるタスクへの添付ファイルの追加を許可：**&#x200B;タスクの添付ファイルを有効にするには、このオプションを選択します。担当者は、タスクの送信時に AEM インボックス内から添付ファイルを追加できます。
* **次を使用して出力タスク添付ファイルを保存**:添付ファイルフォルダーの場所を指定します。出力タスクの添付ファイルは、ペイロードに対する相対パスを使用して、またはドキュメントデータタイプの配列の変数内に保存できます。 このオプションは、「担当者にタスクへの添付ファイルの追加を許可する」チェックボックスを選択し、「**アダプティブフォーム**」、「**読み取り専用アダプティブフォーム**」、「**非インタラクティブPDFドキュメント**」を選択した場合にのみ表示されます>> 「**フォーム/ドキュメント**」タブのドロップダウンリスト。********

>[!NOTE]
>
>実行時にエージェントUIの「添付ファイル」タブを使用して、添付ファイルをインタラクティブ通信に関連付けます。 関連付けられた添付ファイルは、完了状態で作業項目を開くと、サイドキックにタスク添付ファイルとして表示されます。

* **カスタムメタデータを使用：**&#x200B;カスタムメタデータフィールドを有効にするには、このオプションを選択します。カスタムメタデータは電子メールテンプレートで使用されます。
* **カスタムメタデータ：**&#x200B;電子メールテンプレートのカスタムメタデータを選択します。カスタムメタデータは、crx リポジトリの apps/fd/dashboard/scripts/metadataScripts にあります。指定されたパスは crx リポジトリに存在しません。このパスは、使用する前に管理者が作成します。また、カスタムメタデータ用のサービスを使用することもできます。また、WorkitemUserMetadataServiceインターフェイスを拡張して、カスタムメタデータを提供することもできます。
* **前の手順のデータを表示**:以前に割り当てられた担当者に対する表示、タスクで既に行われた操作、タスクに追加されたコメント、および完了したタスクの記録のドキュメント（ある場合）を有効にするには、このオプションを選択します。
* **以降のステップのデータを表示する：**&#x200B;後続の担当者が実行したアクションと追加したコメントを現在の担当者が表示できるようにするには、このオプションを選択します。また、このオプションを選択すると、完了したタスクのレコードのドキュメント（使用可能な場合）を現在の担当者が表示できるようになります。
* **データタイプの表示：**&#x200B;デフォルトで、担当者は、レコードのドキュメント、担当者、実行されたアクションに加え、前の担当者および後続の担当者が追加したコメントを表示することができます。「データタイプの表示」オプションを使用すると、担当者に表示されるデータタイプが制限されます。

## 電子メールを送信ステップ {#send-email-step}

電子メールのステップを使用して、レコードのドキュメント、アダプティブフォームのリンク、インタラクティブ通信のリンクまたは添付 PDF ドキュメントを含む電子メールを送信します。電子メールを送信ステップは、[HTML 電子メール](https://en.wikipedia.org/wiki/HTML_email)をサポートします。HTML 電子メールは、受信者の電子メールクライアントや画面サイズにレスポンシブに対応します。HTML電子メールテンプレートを使用して、電子メールの外観、カラースキーム、および動作を定義できます。

電子メールステップは、Day CQ Mail Service を使用して電子メールを送信します。電子メールステップを使用する前に、[電子メールサービス](../../forms/using/aem-forms-workflow.md)が設定されていることを確認してください。電子メールステップには、次のプロパティがあります。

**タイトル：**&#x200B;ステップのタイトルは、ワークフローエディターでステップを識別するのに役立ちます。

**説明：**&#x200B;説明は、共通の開発環境で作業する他のプロセス開発者にとって有用です。

**電子メールの件名：** 件名は、ワークフローのメタデータから取得することも、手動で指定することも、変数に格納されている値から取得することもできます。次のオプションから選択します。

* **リテラル — サブジェクトを** 手動で指定します。
* **ワークフローメタデータから取得**  — メタデータプロパティからサブジェクトを取得します。
* **Variable**  — 文字列データ型の変数に格納された値から件名を取得します。

**HTML 電子メールテンプレート：**&#x200B;電子メール用の HTML テンプレートです。電子メールテンプレート内で変数を指定することができます。電子メールステップは、入力のため、テンプレートに含まれるすべての変数を抽出して表示します。

**電子メールテンプレートメタデータ：電子メールテンプレート変数の** 値は、ユーザー指定の値、作成者または発行サーバー上のアセットのパス、画像、ワークフローメタデータプロパティにすることができます。

* **リテラル：**&#x200B;指定する値が正確に分かっている場合は、このオプションを使用します。例えば、[example@example.com](mailto:example@example.com) と指定します。

* **ワークフローメタデータ：**&#x200B;使用する値がワークフローメタデータプロパティに保存されている場合は、このオプションを使用します。このオプションを選択したら、「ワークフローメタデータ」オプションの下の空のテキストボックスにメタデータプロパティ名を入力します。例えば、emailAddress と指定します。
* **アセットURL：このオプションを** 使用して、電子メールに対するインタラクティブな通信のWebリンクを埋め込みます。オプションを選択したら、埋め込むインタラクティブ通信を参照して選択します。 アセットは、オーサーサーバーまたはパブリッシュサーバーに置くことができます。
* **画像：**&#x200B;画像を電子メールに埋め込むには、このオプションを使用します。このオプションを選択したら、画像を参照して選択します。「画像」オプションは、電子メールテンプレートで使用できる画像タグ（&lt;img src=&quot;*&quot;/>）に対してのみ使用できます。

**送信者の/受信者の電子メールアドレス：手動で電子メールアドレスを指定するに** は「 **** リテラル」オプションを選択し、メタデータプロパティから電子メールアドレスを取得するには「ワークフロー **** メタデータから取得」オプションを選択します。「**ワークフローメタデータから取得**」オプションのメタデータプロパティ配列のリストを指定することもできます。「**変数**」オプションを選択して、stringデータ型の変数に格納されている値から電子メールアドレスを取得します。

**File Attachment：指定** した場所で使用できるアセットは、電子メールに添付されます。アセットのパスは、ペイロードに対する相対パスまたは絶対パスのどちらでもかまいません。パスの例は、[Payload_Directory]/attachments/です。

「**変数**」オプションを選択して、ドキュメント、XML、またはJSONデータ型の変数に格納されたファイル添付ファイルを取得します。

**ファイル名：**&#x200B;電子メール添付ファイルの名前です。電子メールステップは、添付ファイルの元のファイル名を指定したファイル名に変更します。 名前は、手動で指定するか、ワークフローメタデータプロパティまたは変数から取得できます。 指定する値が正確に分かっている場合は、「**リテラル**」オプションを使用します。**変数**&#x200B;オプションを使用して、stringデータ型の変数に格納された値からファイル名を取得します。 使用する値がワークフローメタデータプロパティに保存されている場合は、「**ワークフローメタデータから取得**」オプションを使用します。

## レコードのドキュメントを生成ステップ {#generate-document-of-record-step}

フォームの入力時または送信時には、そのフォームを印刷物またはドキュメント形式で記録しておくことができます。これは、レコードのドキュメント（DoR）と呼ばれます。レコードのドキュメントを生成ステップを使用して、アダプティブフォームの（読み取り専用またはインタラクティブの）PDF バージョンを作成することができます。PDF バージョンには、アダプティブフォームのレイアウトと共にフォームに入力された情報が含まれます。

レコードのドキュメントステップには、次のプロパティがあります。

**アダプティブフォームを使用**:入力されたアダプティブフォームを検索する方法を指定します。ワークフローに送信されたアダプティブフォームを使用することも、絶対パスで使用することも、変数内のパスで使用することもできます。 Stringデータ型の変数を使用して、**Select variable to resolve**&#x200B;フィールドのパスを指定できます。\
複数のアダプティブフォームをワークフローに関連付けることができます。 その結果、使用可能な入力メソッドを使用して、ランタイム上のアダプティブフォームを指定できます。

**アダプティブフォームのパス**：アダプティブフォームのパスを指定します。このフィールドは、**アダプティブフォームを使用**&#x200B;フィールドから「**絶対パスで使用可能**」オプションを選択した場合に使用できます。

**「次を使用してデータを入力」を選択します。アダプティブフォームの入力データの** パスデータは、ペイロードとの相対的な場所に保持したり、データの絶対パスを指定したり、ドキュメント、JSONまたはXMLデータ型の変数に格納されたデータを取得したりできます。 入力データは、レコードのドキュメントを作成するためにアダプティブフォームとマージされます。

**添付ファイルの「Input attachment path using:** Path of the attachments」を選択します。これらの添付ファイルは「レコードのドキュメント」に含まれます。添付ファイルは、ペイロードとの相対的な場所に保持したり、添付ファイルの絶対パスを指定したり、ドキュメントデータタイプの変数に格納された添付ファイルを取得したりできます。

フォルダーのパスを指定すると、添付ファイルなど、そのフォルダー内で直接使用可能なすべてのファイルがレコードのドキュメントに添付されます。指定された添付ファイルのパスに直接存在するフォルダー内に使用できるファイルがある場合、そのファイルはレコードのドキュメントに添付ファイルとして含まれます。直接存在するフォルダー内にフォルダーがある場合、それらはスキップされます。

**次のオプションを使用して、生成されたレコードのドキュメントを保存：レコードファイルのドキュメントを保持する場所を** 指定します。ペイロードフォルダーの上書き、ペイロードディレクトリ内の場所にレコードのドキュメントを配置、またはレコードのドキュメントをドキュメントデータタイプの変数に格納することを選択できます。

**ロケール：**&#x200B;レコードのドキュメントの言語を指定します。ドロップダウンリストからロケールを選択する場合は「**リテラル**」を選択し、文字列データ型の変数に格納されている値からロケールを取得する場合は「**変数**」を選択します。 ロケールの値を変数に格納する際は、ロケールコードを定義する必要があります。 例えば、英語は&#x200B;**en_US**、フランス語は&#x200B;**fr_FR**&#x200B;と指定します。

## フォームデータモデルサービスを呼び出しステップ {#invoke-form-data-model-service-step}

[AEM Forms のデータ統合](../../forms/using/data-integration.md)機能により、複数の異なるデータソースを設定して接続することができます。これらのデータソースには、データベース、Web サービス、REST サービス、OData サービス、CRM ソリューションがあります。AEM Forms のデータ統合を使用すると、様々なサービスを実行するフォームデータモデルを作成できます。例えば、構成されたデータベースに対して、データの取得、追加、更新を実行できます。**データモデルの呼び出しサービスの手順**&#x200B;を使用してフォームデータモデル(FDM)を選択し、FDMのサービスを使用して、異なるデータソースに対してデータを取得、更新または追加できます。

ステップのフィールドの入力について説明するために、次のデータベーステーブルと JSON ファイルを例として使用します。

**サンプル CustomerDetails テーブル**

<table>
 <tbody> 
  <tr> 
   <td>プロパティ</td> 
   <td>値<br /> </td> 
  </tr> 
  <tr> 
   <td>名<br /> </td> 
   <td>Sarah<br /> </td> 
  </tr> 
  <tr> 
   <td>姓</td> 
   <td>Rose</td> 
  </tr> 
  <tr> 
   <td>Customer ID</td> 
   <td>1</td> 
  </tr> 
  <tr> 
   <td>電子メールアドレス<br /> </td> 
   <td>srose@we.info</td> 
  </tr> 
 </tbody> 
</table>

**サンプル JSON ファイル**

```json
  { 
    customer: { 
     firstName: "Sarah", 
     lastName:"Rose", 
     customerId: "1", 
     emailAddress:"srose@we.info" 
   }, 
    insurance: {
     customerId: "1", 
    policyType: "Premium,
    policyNumber: "Premium-521499",
    customerDetails: { 
     firstName: "Sarah",
     lastName: "Rose",
     customerId: "1",
     emailAddress: "srose@we.info" 
    }
   }
  }
```

フォームデータモデルサービスを呼び出しステップには、以下に一覧されたフィールドがあり、フォームデータモデルの操作に役立ちます。

* **タイトル：**&#x200B;ステップのタイトルです。ワークフローエディターでステップを識別するのに役立ちます。
* **説明：**&#x200B;説明は、共通の開発環境で作業する他のプロセス開発者にとって有用です。

* **フォームデータモデルのパス：**&#x200B;サーバー上のフォームデータモデルを参照して選択します。

* **サービス：**&#x200B;選択したフォームデータモデルのサービスのリストです。
* **サービスの入力/リテラル、変数、またはワークフローのメタデータとJSONファイルを使用して、入力データを指定します**。1つのサービスに複数の引数を指定できます。ワークフローメタデータプロパティ、JSONオブジェクト、変数からサービス引数の値を取得するか、提供されたテキストボックスに値を直接入力するには、このオプションを選択します。

   * **リテラル：**&#x200B;指定する値が正確に分かっている場合は、このオプションを使用します。例えば、srose@we.info と指定します。
   * **変数：変数に保存されている値を取得するには、このオプションを** 使用します。
   * **ワークフローメタデータから取得：**&#x200B;使用する値がワークフローメタデータプロパティに保存されている場合は、このオプションを使用します。例えば、emailAddress と指定します。
   * **JSON ドット表記法：**&#x200B;使用する値が JSON ファイル内にある場合は、このオプションを使用します。例えば、insurance.customerDetails.emailAddressのように指定します。 「JSONドット表記」オプションは、「入力JSONからの入力フィールドをマップ」オプションが選択されている場合にのみ使用できます。
   * **入力 JSON からのマップ入力フィールド：** JSON ファイルのパスを指定して、その JSON ファイルから一部のサービスの引数の入力値を取得します。JSONファイルのパスは、ペイロードとの相対パス、絶対パスにするか、JSONまたはフォームデータモデルタイプの変数を使用して入力JSONドキュメントーを選択できます。

* **サービスの入力/変数またはJSONファイルを使用して入力データを提供：絶対パス、ペイロードに対する相対パスまたは変数に保存されたJSONファイルからすべての引数の値を取得する場合に選択します。** 
* **次を使用してInput JSONドキュメントを選択します**:すべてのサービス引数の値が含まれるJSONファイル。JSON ファイルのパスは、**ペイロードに対する相対パス**&#x200B;または&#x200B;**絶対パスのどちらでもかまいません。** また、JSONまたはForm Data Modelのデータ型の変数を使用して、入力JSONドキュメントを取得することもできます。

* **JSON ドット表記法：**&#x200B;指定した JSON ファイルのすべてのオブジェクトをサービス引数の入力として使用するには、フィールドを空のままにします。指定した JSON ファイルからサービス引数の入力として特定の JSON オブジェクトを読み取るには、JSON オブジェクトにドット表記法を指定します。例えば、この節の冒頭に一覧表示されている JSON に似た JSON を使用している場合は、insurance.customerDetails を指定して、顧客のすべての詳細をサービスへの入力として提供します。
* **サービスの出力/出力値を変数またはメタデータにマップして書き込み：crx-repositoryのワークフローインスタンスメタデータノードのプロパティとして出力値を保存する** 場合は、このオプションを選択します。メタデータプロパティの名前を指定し、メタデータプロパティにマップされる対応するサービス出力属性を選択します。例えば、出力サービスが返す phone_number をワークフローメタデータの phone_number プロパティでマッピングします。同様に、出力結果をLongデータ型の変数に格納できます。**[!UICONTROL Service output attribute to be mapped]**&#x200B;オプションを選択した場合、選択したプロパティのデータを格納できる変数のみが、**[!UICONTROL Save the output to]**&#x200B;オプション用に設定されます。

* **サービスの出力/出力を変数またはJSONファイルに保存：出力値を絶対パス、ペイロードに対する相対パスまたは変数内のJSONファイルに保存する** 場合は、このオプションを選択します。
* **次のオプションを使用して出力JSONドキュメントを保存：出力JSONファイルを** 保存します。出力 JSON ファイルのパスは、ペイロードに対する相対パスまたは絶対パスのどちらでもかまいません。また、JSONまたはForm Data Modelのデータ型の変数を使用して、出力JSONファイルを保存することもできます。

## ドキュメントに署名ステップ {#sign-document-step}

ドキュメントに署名ステップでは、Adobe Sign を使用してドキュメントに署名できます。署名ドキュメントの手順には、次のプロパティがあります。

* **契約名：**&#x200B;契約のタイトルを指定します。契約名は、署名者に送信される電子メールの件名と本文の一部になります。名前はStringデータ型の変数に格納するか、**Literal**&#x200B;を選択して手動で追加します。

* **ロケール：**&#x200B;電子メールと検証オプションの言語を指定します。ロケールをStringデータ型の変数に格納するか、**Literal**&#x200B;を選択して、使用可能なオプションのリストからロケールを選択できます。 ロケールの値を変数に格納する際は、ロケールコードを定義する必要があります。 例えば、英語は&#x200B;**en_US**、フランス語は&#x200B;**fr_FR**&#x200B;と指定します。

* **Adobe Sign クラウド設定：** Adobe Sign クラウド設定を選択します。AEM Forms用にAdobe Signを設定していない場合は、[Adobe SignとAEM Formsの統合](../../forms/using/adobe-sign-integration-adaptive-forms.md)を参照してください。

* **署名に使用するドキュメントの選択：ペイロードとの相対的な場所からドキュメントを選択したり、ドキュメントとしてペイロードを使用したり、ドキュメントの絶対パスを指定したり、ドキュメントデータ型の変数に格納されたドキュメントを取得したりできます。** 
* **期限までの日数：**「**期限までの日数**」フィールドに指定された日数の間にタスクのアクティビティがない場合、ドキュメントは期限切れとマークされます。日数は、ドキュメントが署名のためにユーザーに割り当てられた後にカウントされます。
* **リマインダー電子メールの頻度：**&#x200B;リマインダー電子メールを日単位または週単位で送信できます。週のカウントは、ドキュメントが署名のためにユーザーに割り当てられた日から始まります。
* **署名プロセス：**&#x200B;ドキュメントへの署名を順次おこなうか並列でおこなうかを選択できます。順次おこなう場合、ドキュメントは署名のために一度に 1 人の署名者に送信されます。最初の署名者がドキュメントの署名を完了すると、ドキュメントは 2 人目の署名者に送信され、それ以降も同様です。並列でおこなう場合、複数の署名者が同時に 1 つのドキュメントに署名することができます。
* **リダイレクト URL：**&#x200B;リダイレクト URL を指定します。ドキュメントへの署名が完了したら、担当者を URL にリダイレクトすることができます。通常、この URL には、感謝のメッセージやその後の手順が含まれています。
* **ワークフローステージ：** 1 つのワークフローに複数のステージを含めることができます。これらのステージは、AEM インボックスに表示されます。これらのステージは、モデルのプロパティ（サイドキック／ページ／ページのプロパティ／ステージ）で定義できます。
* **署名者を選択：**&#x200B;ドキュメントの署名者を選択する方法を指定します。ワークフローを動的にユーザーまたはグループに割り当てることも、手動で署名者の詳細を追加することもできます。
* **署名者を選択するためのスクリプトまたはサービス：**&#x200B;このオプションを使用できるのは、「署名者を選択」フィールドで「動的」オプションが選択されている場合のみです。ECMAScriptまたはサービスを指定して、ドキュメントの署名者と検証オプションを選択できます。
* **署名者の詳細：**&#x200B;このオプションを使用できるのは、「署名者を選択」フィールドで「手動」オプションが選択されている場合のみです。電子メールアドレスを指定し、オプションの検証メカニズムを選択します。2 段階検証メカニズムを選択する前に、設定済みの Adobe Sign アカウントに対して対応する検証オプションが有効になっていることを確認してください。Stringデータ型の変数を使用して、**[!UICONTROL 電子メール]**、**[!UICONTROL 国コード]**、**[!UICONTROL 電話番号]**&#x200B;の各フィールドの値を定義できます。 **[!UICONTROL 国コード]**&#x200B;と&#x200B;**[!UICONTROL 電話番号]**&#x200B;のフィールドは、**[!UICONTROL 2-step検証]**&#x200B;のドロップダウンリストで「**[!UICONTROL 電話の検証]**」を選択した場合にのみ表示されます。
* **ステータス変数：Adobe Sign** が有効なドキュメントは、ドキュメントの署名ステータスをStringデータ型の変数に格納します。ステータス変数の名前（adobeSignStatus）を指定します。インスタンスのステータス変数は、CRXDEの/etc/workflow/instances/&lt;server>/&lt;date-time>/&lt;instance of workflow model>/workItems/&lt;node>/metaDataに変数のステータスが含まれています。
* **次のオプションを使用して署名済みドキュメントを保存：署名済みドキュメントを保持する場所を** 指定します。ペイロードファイルの上書き、ペイロードドキュメント内の場所への署名済みドキュメントの配置、ドキュメントタイプの変数への署名済みディレクトリの格納を選択できます。

## ドキュメントサービスのステップ {#document-services-steps}

AEM ドキュメントサービスは、PDF ドキュメントを作成、アセンブルおよび保護するための一連のサービスです。AEM Formsは、各ドキュメントサービスに対して個別のAEMワークフロー手順を提供しています。

タスクの割り当て、電子メールの送信、ドキュメントの署名など、他のAEM Formsワークフローの手順と同様に、すべてのAEMドキュメントサービスの手順で変数を使用できます。 変数の作成と管理について詳しくは、[AEMワークフローの変数](../../forms/using/variable-in-aem-workflows.md)を参照してください。

### ドキュメントのタイムスタンプを適用ステップ {#apply-document-time-stamp-step}

ドキュメントにタイムスタンプを追加します。入力ドキュメントのパス、入力ドキュメントの名前、書き出されたデータの保存場所など、ドキュメントの詳細を指定します。既存のペイロードファイルの上書き、ペイロードフォルダーの下の別のファイルにデータを保存するための別のファイル名の選択、データの絶対パスの指定、ドキュメントデータタイプの変数へのデータの格納を選択できます。

### 画像ステップ{#convert-to-image-step}に変換

PDFドキュメントをリストに変換します。 サポートされている画像形式は、JPEG、JPEG2000、PNG および TIFF です。TIFF 画像への変換には、次の情報が当てはまります。

* 複数ページの TIFF ファイルが生成されます。
* 一部の注釈は TIFF 画像に含まれません。外観の生成に Acrobat を必要とする注釈は含まれません。

### PDF/A に変換 ステップ {#convert-to-pdf-a-step}

指定したオプションを使用して PDF ドキュメントを PDF/A 形式に変換します。PDF/A バージョンの Portable Document Format（PDF）は、ドキュメントのアーカイブおよび長期保存に特化しています。

### PS に変換ステップ {#convert-to-ps-step}

PDF ドキュメントを PostScript に変換します。PostScript に変換する際に、この変換操作を使用して、変換元のドキュメントと、PostScript レベル 2 と 3 のどちらに変換するかを指定できます。PostScript ファイルに変換する PDF ドキュメントは、非インタラクティブである必要があります。

### 指定したタイプから PDF を作成 ステップ {#create-pdf-from-specified-type-step}

入力ファイルから PDF ドキュメントを生成します。入力ドキュメントは、ペイロードに対する相対パス、絶対パス、ペイロード自体またはドキュメントデータ型の変数に格納できます。

### URL／HTML／ZIP から PDF を作成ステップ {#create-pdf-from-url-html-zip-step}

指定された URL、HTML および ZIP ファイルから PDF ドキュメントを生成します。

### データを書き出し ステップ  {#export-data-step}

PDF フォームまたは XDP ファイルからデータを書き出します。入力ドキュメントのファイルパスとデータの書き出し形式を入力する必要があります。データの書き出し形式のオプションは、「自動」、「XDP」および「XmlData」です。

### PDF を指定したタイプに書き出し ステップ {#export-pdf-to-specified-type-step}

PDF ドキュメントを選択した形式に変換します。

### 非インタラクティブ PDF を生成 ステップ  {#generatenoninteractive}

非インタラクティブ PDF を生成します。様々なカスタマイズオプションを提供します。

>[!NOTE]
>
>変数を使用して、入力ドキュメント用のテンプレートファイルを指定できます。 テンプレートファイルのパスをStringデータ型の変数に格納します。

### データを読み込みステップ {#import-data-step}

フォームデータを PDF フォームにマージします。フォームデータを PDF フォームに読み込むことができます。

### DDX を呼び出し ステップ {#invokeddx}

入力ドキュメントの指定されたマップ上で DDX ファイルを実行し、操作された PDF ドキュメントを返します。

>[!NOTE]
>
>変数を使用して、入力ドキュメントー用のDDXファイルを指定できます。 DDXファイルをドキュメントまたはXMLデータ型の変数に格納します。

### PDF を最適化ステップ {#optimize-pdf-step}

PDF ファイルは、サイズを小さくして最適化します。この変換の結果、PDF ファイルは元のバージョンよりも小さくなる可能性があります。また、この操作では、PDF ドキュメントが最適化パラメーターで指定された PDF バージョンに変換されます。

最適化の設定では、ファイルの最適化方法を指定します。設定の例を次に示します。

* ターゲットの PDF バージョン
* JavaScript アクションや埋め込みページサムネールなどのオブジェクトの破棄
* コメントや添付ファイルなどのユーザーデータの破棄
* 無効な設定や未使用の設定の破棄
* 非圧縮データの圧縮、またはより効率的な圧縮アルゴリズムの使用
* 埋め込まれたフォントの削除
* 透過値の設定

### PDF フォームをレンダリング ステップ {#renderpdf}

フォームデザイナー（XDP）で作成したフォームを PDF フォームにレンダリングします。

>[!NOTE]
>
>変数を使用して、入力ドキュメント用のテンプレートファイルを指定できます。 テンプレートファイルのパスをStringデータ型の変数に格納します。

### ドキュメントの保護ステップ {#secure-document-step}

ドキュメントの暗号化、署名および証明をおこないます。AEM Forms は、パスワードベースと証明書ベース両方の暗号化をサポートしています。ドキュメントに署名するための様々なアルゴリズムの中から選択することもできます。例えば、SHA-256 や SH-512 があります。また、このワークフローステップを使用して PDF ドキュメントを拡張することもできます。このワークフローステップには、バーコードのデコード、デジタル署名、PDF データの読み込みと書き出しなどのオプションを有効にするためのオプションが用意されています。

### プリンターに送信ステップ {#send-to-printer-step}

ドキュメントをプリンターに直接送信します。次の印刷アクセスメカニズムがサポートされています。

* **直接アクセス型プリンター**：同じコンピューターにインストールされているプリンターは、直接アクセス型プリンターと呼ばれます。また、そのコンピューターはプリンターホストと呼ばれます。このタイプのプリンターには、コンピューターに直接接続されているローカルプリンターが該当します。
* **間接アクセス型プリンター**：プリントサーバーにインストールされているプリンターには、他のコンピューターからアクセスできます。ネットワークプリンターへの接続には、Common UNIX® Printing System（CUPS）や Line Printer Daemon（LPD）プロトコルなどのテクノロジーを使用できます。間接アクセス型プリンターにアクセスするには、プリントサーバーのIPまたはホスト名を指定します。 このメカニズムを使用すると、ネットワークで LPD が実行されている場合はドキュメントを LPD URI に送信できます。このメカニズムにより、LPD が実行されているネットワークに接続されているどのプリンターにもドキュメントをルーティングすることができます。

### 印刷出力ステップ{#generatePrintedOutput}の生成

この手順で、指定されたフォームデザインとデータファイルに対して、PCL、PostScript、ZPL、IPL、TPCL、またはDPL出力が生成されます。 データファイルはフォームデザインとマージされ、印刷用にフォーマットされます。この手順で生成された出力は、プリンターに直接送信したり、ファイルとして保存したりできます。 フォームデザインやアプリケーションのデータを使用する場合は、この手順を使用することをお勧めします。 フォームデザインがネットワーク、ローカルファイルシステム、またはHTTP上の場所にある場合は、「generatePrintedOutput」操作を使用します。

例えば、アプリケーションでフォームデザインをデータファイルとマージする必要があるとします。データには数百件のレコードがあります。さらに、ZPL をサポートしているプリンターに出力を送信する必要があります。フォームデザインと入力データはアプリケーション内にあります。「generatePrintedOutput」操作を使用して、レコードをフォームデザインとマージし、ZPL がサポートされるプリンターに出力を送信します。

「印刷出力を生成」の手順には、次のプロパティがあります。

**Input プロパティ**

* **[!UICONTROL 次を使用してテンプレートファイルを選択]**:テンプレートファイルのパスを指定します。テンプレートファイルは、ペイロードに対する相対パス、絶対パスで保存、またはドキュメントデータタイプの変数を使用して選択できます。 例えば、[Payload_Directory]/Workflow/data.xmlのように指定します。 パスがcrx-repositoryに存在しない場合、管理者はパスを使用する前に作成できます。 また、ペイロードを入力データファイルとして受け入れることもできます。

* **[!UICONTROL 次を使用してデータドキュメントを選択します]**:入力データファイルのパスを指定します。入力データファイルは、ペイロードに対する相対パス、絶対パスで保存、またはドキュメントデータ型の変数を使用して選択できます。 例えば、[Payload_Directory]/Workflow/data.xmlのように指定します。 パスがcrx-repositoryに存在しない場合、管理者はパスを使用する前に作成できます。

* **[!UICONTROL Printer Format]**:XDCファイルが指定されていない場合に、出力ストリームの生成に使用するページ説明言語を指定するPrint Format値です。リテラル値を指定する場合、次のいずれかの値を選択します。

   * **[!UICONTROL Custom PCL]**:このオプションを使用して、PCL用のカスタムXDCファイルを指定します。
   * **[!UICONTROL Custom PostScript]**:PostScript用のカスタムXDCファイルを指定するには、このオプションを使用します。
   * **[!UICONTROL Custom ZPL]**:ZPL用のカスタムXDCファイルを指定するには、このオプションを使用します。
   * **[!UICONTROL Generic Color PCL (5c)]**:汎用カラーPCL(5c)を使用します。
   * **[!UICONTROL Generic PostScript Level3]**:汎用PostScriptレベル3を使用します。
   * **[!UICONTROL ZPL 300 DPI]**:ZPL 300 DPIを使用します。zpl300.xdc が使用されます。
   * **[!UICONTROL ZPL 600 DPI]**:ZPL 600 DPIを使用します。zpl600.xdc ファイルが使用されます。
   * **[!UICONTROL Custom IPL]**:IPL用のカスタムXDCファイルを指定するには、このオプションを使用します。
   * **[!UICONTROL IPL 300 DPI]**:IPL 300 DPIを使用します。ipl300.xdc が使用されます。
   * **[!UICONTROL IPL 400 DPI]**:IPL 400 DPIを使用します。ipl400.xdc が使用されます。
   * **[!UICONTROL Custom TPCL]**:TPCL用のカスタムXDCファイルを指定するには、このオプションを使用します。
   * **[!UICONTROL TPCL 305 DPI]**:TPCL 300 DPIを使用します。tpcl305.xdc が使用されます。
   * **[!UICONTROL PCL 600 DPI]**:TPCL 600 DPIを使用します。tpcl600.xdc が使用されます。
   * **[!UICONTROL Custom DPL]**:カスタムXDCファイルDPLを指定するには、このオプションを使用します。
   * **[!UICONTROL DPL300DPI]**:DPL 300 DPIを使用します。dpl300.xdc が使用されます。
   * **[!UICONTROL DPL406DPI]**:DPL 400 DPIを使用します。dpl406.xdc が使用されます。
   * **[!UICONTROL DPL600DPI]**:DPL 600 DPIを使用します。dpl600.xdc が使用されます。

**Outputプロパティ**

* **[!UICONTROL 次を使用して出力ドキュメントを保存]**:出力ファイルを保存する場所を指定します。出力ファイルは、ペイロードに対する相対位置、変数内の場所に保存したり、出力ファイルを保存する絶対位置を指定したりできます。 パスがcrx-repositoryに存在しない場合、管理者はパスを使用する前に作成できます。

**高度なプロパティ**

* **[!UICONTROL 次を使用してコンテンツルートの場所を選択します]**:コンテンツルートは、フォームデザインで使用される相対アセットを取得するためのURI、絶対参照、またはリポジトリ内の場所を指定するstring値です。例えば、フォームデザインが ../myImage.gif のようにイメージを相対的に参照する場合、myImage.gif は repository:// に配置する必要があります。デフォルト値は repository:// で、これはリポジトリのルートレベルをポイントします。

   アプリケーションからアセットを選択するとき、コンテンツルート URI パスは正確な構造になっている必要があります。例えば、フォームを SampleApp というアプリケーションから選択し、SampleApp/1.0/forms/Test.xdp に配置する場合、コンテンツルート URI は repository://administrator@password/Applications/SampleApp/1.0/forms/ または repository:/Applications/SampleApp/1.0/forms/（認証機関情報が NULL の場合）と指定する必要があります。コンテンツルート URI をこの方式で指定すると、フォーム内で参照されているすべてのアセットのパスがこの URI を基準に解決されます。

* **[!UICONTROL 次を使用してXCIファイルを選択します]**:XCIファイルは、フォームデザイン要素に使用されるフォントおよびその他のプロパティの説明に使用されます。ペイロードに対するXCIファイルを、絶対パスで、またはドキュメントデータ型の変数を使用して保持できます。

* **[!UICONTROL ロケール]**:PDFドキュメントの生成に使用する言語を指定します。リテラル値を指定する場合、リストから言語を選択するか、または次のいずれかの値を選択します。
   * **サーバーのデフォルトを使用するには**:（デフォルト）AEM Formsサーバーで設定されているロケール設定を使用します。ロケール設定は、管理コンソールを使用して設定します （「[Designer ヘルプ](http://www.adobe.com/go/learn_aemforms_designer_65_jp)」を参照）。

   * **カスタム値を使用するには**:リテラルボックスにロケールコードを入力するか、ロケールコードを含む文字列変数を選択します。サポートされているすべてのロケールコードのリストについては、http://java.sun.com/j2se/1.5.0/docs/guide/intl/locale.doc.html を参照してください。

* **[!UICONTROL コピー]**:出力用に生成するコピー数を指定する整数値。デフォルト値は 1 です。

* **[!UICONTROL 両面印刷]**:両面印刷を使用するか片面印刷を使用するかを指定するPagination値です。PostScriptとPCLをサポートするプリンターでは、この値を使用します。リテラル値を指定する場合は、次のいずれかの値を選択します。
   * **[!UICONTROL Duplex Long Edge]**:両面印刷を使用し、ロングエッジページネーションを使用して印刷します。
   * **[!UICONTROL Duplex Short Edge]**:両面印刷を使用し、ショートエッジページネーションを使用して印刷します。
   * **[!UICONTROL Simplex]**:片面印刷を使用します。