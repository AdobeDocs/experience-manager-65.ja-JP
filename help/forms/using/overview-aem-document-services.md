---
title: AEM ドキュメントサービスの概要
description: AEM ドキュメントサービスは、PDF ドキュメントを作成、アセンブリ、およびセキュリティ保護のための一連の OSGi サービスです。
content-type: reference
products: SG_EXPERIENCEMANAGER/6.5/FORMS
topic-tags: document_services
docset: aem65
feature: Document Services,Reader Extensions, Forms Service,PDF Generator
exl-id: 4c8a3877-1a3c-410d-ad1f-69c73ba4fcc1
solution: Experience Manager, Experience Manager Forms
role: Admin, User, Developer
source-git-commit: d7b9e947503df58435b3fee85a92d51fae8c1d2d
workflow-type: ht
source-wordcount: '1413'
ht-degree: 100%

---

# AEM ドキュメントサービスの概要{#overview-of-aem-document-services}

| バージョン | 記事リンク |
| -------- | ---------------------------- |
| AEM as a Cloud Service | [ここをクリックしてください](https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/forms/using-communications/aem-forms-cloud-service-communications-introduction.html?lang=ja#) |
| AEM 6.5 | この記事 |


AEM ドキュメントサービスは、PDF ドキュメントを作成、アセンブリ、およびセキュリティ保護のための一連の OSGi サービスです。ドキュメントサービスには、次のサービスが含まれています。

## Output サービス {#output-service}

Output サービスを使用すると、PDF、レーザープリンター形式、ラベルプリンター形式など、様々な形式のドキュメントを作成できます。レーザープリンター形式には、PostScript とプリンター制御言語（PCL）があります。ラベルプリンター形式には、次の種類があります。

* Zebra（ZPL）
* Intermec（IPL）
* Datamax（DPL）
* TecToshiba（TPCL）

ドキュメントは、ネットワークプリンター、ローカルプリンター、またはファイルシステム上のファイルに送信できます。Output サービスは、XML フォームデータをフォームデザインとマージしてドキュメントを生成します。Output サービスでは、XML フォームデータをドキュメントにマージせずにドキュメントを生成することもできます。ただし、データをドキュメントに結合するのが本来のワークフローです。

>[!NOTE]
>
>通常、フォームデザインは Designer を使用して作成します。出力サービスのフォームデザインの作成について詳しくは、Designer ヘルプを参照してください。

Output サービスを使用して XML データをフォームデザインとマージすると、非インタラクティブ PDF ドキュメントが生成されます。非インタラクティブな PDF ドキュメントのフィールドには、ユーザーがデータを入力することはできません。これに対し、Forms サービスを使用して作成したインタラクティブ PDF フォームでは、ユーザーがフィールドにデータを入力できます。

次の 4 つの出力サービス操作が使用できます。

* **generatePDFOuput**：フォームデザインをデータとマージして PDF ドキュメントを生成します。
* **generatePrintedOutput**：フォームデザインをフォームデータと結合して、レーザーネットワークプリンターまたはラベルネットワークプリンターに送信するドキュメントを生成します。

* **generatePDFOutputBatch**：複数のテンプレートと複数のデータレコードをマージして、1 回の実行で複数の PDF ファイルを生成します。すべての PDF ファイルをまとめて 1 つの PDF を生成するオプションもあります。
* **generatePrintedOutputBatch**：複数のテンプレートと複数のデータレコードを結合して、1 回の実行で複数の印刷ドキュメント（PS、PCL、ZPL、DPL、IPL、TPCL）を生成します。1 つの印刷ドキュメントを生成するオプションもあります。

## Assembler サービス {#assembler-service}

Assembler サービスでは、PDF ドキュメントや XDP ドキュメントの結合、並べ替えおよび拡張と、PDF ドキュメントに関する情報の取得ができます。Assembler サービスに送信される各ジョブには、Document Description XML（DDX）ドキュメント、ソースドキュメントおよび外部リソース（文字列とグラフィック）が含まれます。DDX ドキュメントには、ソースドキュメントを使用して 1 組の結果ドキュメントを生成する方法が記述されています。

上記の機能の他に、次の Assembler サービスがあります。

* PDF ドキュメントを PDF/A 標準に変換します。
* PDF フォーム、XML フォーム（Designer で作成）および PDF フォーム（Acrobat で作成）を、PDF/A-1b、PDF/A-2b、PDFA/A-3b に変換します。
* 署名済みまたは未署名の PDF ドキュメントを変換します（電子署名が必要）。
* PDF/A ファイルのコンプライアンスを検証し、必要に応じて変換します。

### DDX について {#about-ddx}

Assembler サービスを利用するときは、必要な出力を記述するために Document Description XML（DDX）と呼ばれる XML ベースの言語を使用します。DDX は、その要素がドキュメントの構築ブロックを表す宣言型のマークアップ言語です。この構築ブロックには、PDF ドキュメント、XDP ドキュメント、XDP フォームのフラグメントおよびその他の要素（注釈、しおり、スタイルを設定したテキストなど）が含まれます。

DDX ドキュメントは、次のような特性を持つ結果ドキュメントを指定できます。

* 複数の PDF ドキュメントからアセンブリされた PDF ドキュメント
* 1 つの PDF ドキュメントから分割された複数の PDF ドキュメント
* 独立したユーザーインターフェイス、複数の PDF および非 PDF ドキュメントを含む PDF ポートフォリオ
* 複数の XDP ドキュメントからアセンブリされた XDP ドキュメント
* XDP ドキュメントに動的に挿入される XML フラグメントを含む XDP ドキュメント
* XDP ドキュメントをパッケージ化する PDF ドキュメント
* PDF ドキュメントの特性を報告する XML ファイル。報告される特性は、テキスト、注釈、フォームデータ、添付ファイル、PDF ポートフォリオに使用されるファイル、しおり、PDF プロパティなどです。PDF プロパティとは、フォームプロパティ、ページの回転、ドキュメントの作成者などを指します。

DDX を使用すると、ドキュメントのアセンブリまたはディスアセンブリの一環として PDF ドキュメントを拡張することができます。次の効果を任意に組み合わせて指定できます。

* 選択したページへの透かしまたは背景の追加または削除。
* 選択したページへのヘッダーとフッターの追加または削除。
* PDF パッケージまたは PDF ポートフォリオの構造およびナビゲーション機能の削除。結果の出力は単一の PDF ファイルになります。
* ページラベルの再ナンバリング。ページラベルは通常ページナンバリングに使用されます。
* 別のソースドキュメントからのメタデータのインポート。
* 添付ファイル、しおり、リンク、コメントおよび JavaScript の追加または削除。
* 初期ビューの特性の設定と、web 上で表示する際の最適化。
* 暗号化された PDF に対する権限の設定。
* ページの回転またはページ上のコンテンツの回転およびシフト。
* 選択したページのサイズの変更。
* XFA ベースの PDF とのデータの統合。

単純な入力マップを使用して、ソースドキュメントと結果ドキュメントの場所を指定できます。次の外部データ URL タイプも使用できます。

* File
* FTP
* HTTP／HTTPS

## Doc Assurance サービス {#doc-assurance-service}

Doc Assurance サービスでは、ドキュメントを暗号化および復号化したり、Adobe Reader の機能に追加の使用権限を追加して拡張したり、ドキュメントにデジタル署名を追加したりできます。ユーザーは PDF フォームやドキュメントを容易に操作でき、組織はセキュリティ、アーカイブ、およびコンプライアンスの準拠を向上できます。

DocAssurance サービスには、3 つのサービス（署名、暗号化および Reader 拡張機能）があります。

### Signature サービス {#signature-service}

Signature サービスでは、AEM サーバーでデジタル署名とドキュメントを扱うことができます。例えば、通常、署名サービスは次のような状況で使用されます。

* ユーザーにフォームが送信されて Acrobat または Adobe Reader で開かれる前に、AEM サーバーでフォームを認証する場合。
* Acrobat または Adobe Reader を使用してフォームに追加された署名を、AEM サーバーが検証する場合。
* AEM サーバーが公証人に代わってフォームに署名する場合。

Signature サービスは、Trust Store に格納されている証明書および秘密鍵証明書にアクセスします

### 暗号化サービス {#encryption-service}

Encryption サービスは、ドキュメントの暗号化および復号化を有効にします。ドキュメントを暗号化すると、その内容は判読できなくなります。PDF ドキュメント全体（コンテンツ、メタデータおよび添付ファイル）を暗号化するか、そのメタデータ以外のすべてのデータを暗号化するか、または添付ファイルだけを暗号化することができます。許可されたユーザーはドキュメントを復号化して、内容にアクセスできます。PDF ドキュメントがパスワードで暗号化されている場合、ユーザーは開くためのパスワードを指定しないと、Adobe Reader または Adobe Acrobat でドキュメントを表示できません。PDF ドキュメントが証明書で暗号化されている場合、ユーザーはその PDF ドキュメントを秘密鍵（証明書）で復号化する必要があります。PDF ドキュメントの復号化に使用する秘密鍵は、そのドキュメントの暗号化に使用された公開鍵に対応している必要があります。

### Reader Extension サービス {#reader-extension-service}

Reader Extensions サービスを使用すると、追加の使用権限を付与して Adobe Reader の機能を拡張することで、組織内でインタラクティブ PDF ドキュメントを簡単に共有できます。Reader Extensions サービスは、Adobe Reader 7.0 以降で使用できます。このサービスは、使用権限を PDF ドキュメントに追加します。これにより、PDF ドキュメントを Adobe Reader で開いた場合には通常使用できない機能（ドキュメントへのコメントの追加、フォームへの入力、ドキュメントの保存など）がアクティブになります。サードパーティユーザーは、使用権限を付与されたドキュメントを扱うためにソフトウェアまたはプラグインを追加する必要はありません。

PDF ドキュメントに適切な使用権限が追加されている場合、受信者は Adobe Reader 内で次の作業を行うことができます。

* オンラインまたはオフラインで PDF ドキュメントおよびフォームを完成させ、追加された情報を保持しつつ、記録のためにコピーをローカル保存することを受信者に対して許可する
* PDF ドキュメントをローカルのハードドライブに保存し、元のドキュメントと追加されたコメント、データ、または添付ファイルを保持する
* PDF ドキュメントにファイルおよびメディアクリップを添付する
* 業界標準の公開鍵基盤（PKI）テクノロジーを使用して電子署名を適用することによって、PDF ドキュメントの署名および認証を行う
* 入力が完了した PDF ドキュメントまたは注釈が付いた PDF ドキュメントを電子的に送信する
* 内部データベースおよび web サービスへの直感的な開発フロントエンドとして PDF ドキュメントおよびフォームを使用する
* レビュー担当者は直観的なマークアップツールを使用してドキュメントにコメントを追加できるよう、PDF ドキュメントを他のユーザーと共有する。使用できるツールには、電子付箋、スタンプ、ハイライト、および取り消し線が含まれます。これらと同じ機能は Acrobat でも利用できます。
* バーコードフォームのデコードをサポートする。

これらの特別なユーザー機能は、使用権限を付与された PDF ドキュメントを Adobe Reader で開くと自動的にアクティブになります。権限を付与されたドキュメントの編集を終了すると、これらの機能は Adobe Reader で再度無効になります。ユーザーが権限を付与された別のドキュメントを受け取るまで、これらの機能は無効のままです。

初期状態では、Doc Assurance サービスは使用できません。DocAssurance サービスを設定するには、「[Document Services のインストールと設定](../../forms/using/install-configure-document-services.md)」を参照してください。

## プリンターへの送信サービス {#send-to-printer-service}

プリンターへの送信サービスは、ドキュメントを指定したプリンターに送信して印刷するための API を提供します。
