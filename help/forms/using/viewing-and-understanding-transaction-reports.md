---
title: トランザクションレポートの表示と理解
description: トランザクションレポートを使用すると、プロダクトの使用状況について十分な情報を基に決定を下し、ハードウェアとソフトウェアに対する投資の割合を調整できます。
topic-tags: forms-manager
products: SG_EXPERIENCEMANAGER/6.5/FORMS
docset: aem65
feature: Transaction Reports
exl-id: 3c7cbe1f-ac81-4df9-96b2-662cbc5f2075
source-git-commit: d0db00de6b767a12a9492bbbcec49a8c5d25ff27
workflow-type: tm+mt
source-wordcount: '881'
ht-degree: 95%

---

# OSGi 上のAEM Formsのトランザクションレポートの表示と理解{#viewing-and-understanding-transaction-reports}

トランザクションレポートでは、送信されたフォーム、処理されたドキュメント、レンダリングされたドキュメントの数を取得および追跡できます。これらのトランザクションを追跡する目的は、プロダクトの使用状況について十分な情報を基に判断を行い、ハードウェアとソフトウェアに対する投資の割合を調整することにあります。詳しくは、 [AEM Formsトランザクションレポートの概要](../../forms/using/transaction-reports-overview.md)を参照してください。

## トランザクションレポートの設定  {#setting-up-transaction-reports}

トランザクションレポートの機能は、AEM forms アドオンパッケージの一部として利用できます。すべてのオーサーインスタンスとパブリッシュインスタンスにアドオンパッケージをインストールする方法の詳細は、[AEM Forms のインストールと設定](/help/forms/using/installing-configuring-aem-forms-osgi.md)を参照してください。AEM Forms アドオンパッケージをインストールしたら、以下の手順を実行します。

* すべてのパブリッシュインスタンスでリバースレプリケーションを有効にする
* トランザクションレポートを有効にする
* トランザクションレポートを表示する権限を付与する
* （オプション）トランザクションフラッシュ期間とアウトボックスを設定する [](/help/forms/using/installing-configuring-aem-forms-osgi.md)

>[!NOTE]
>
>* AEM Formsトランザクションレポートは、パブリッシュインスタンスのみを含むトポロジをサポートしていません。
>* トランザクションレポートを使用する前に、すべてのパブリッシュインスタンスでリバースレプリケーションが有効になっているか確認します。
>* トランザクションデータは、パブリッシュインスタンスから、対応するオーサーインスタンスまたは処理インスタンスにのみリバースレプリケーションされます。オーサーインスタンスまたは処理インスタンスは、別のインスタンスにデータを複製できません。
>

### すべてのパブリッシュインスタンスでリバースレプリケーションを有効にする {#enable-reverse-replication-on-all-the-publish-instances}

トランザクションレポートでは、リバースレプリケーションを使用して、パブリッシュインスタンスのトランザクション数をオーサーインスタンスに統合します。すべてのパブリッシュインスタンスでリバースレプリケーションを設定してください。リバースレプリケーションを設定する手順の詳細については、[複製](/help/sites-deploying/replication.md)を参照してください。

### トランザクションレポートを有効にする {#enable-transaction-reports}

トランザクションレポートは、デフォルトで無効になっています。AEM Web コンソールからレポートを有効にできます。AEM Forms 環境でトランザクションレポートを有効にするには、すべてのオーサーインスタンスとパブリッシュインスタンスで次の手順を実行します。

1. AEM インスタンスに管理者としてログインします。「**ツール**」>「**操作**」>「**Web コンソール**」にアクセスします。
1. **Forms トランザクションレポート**&#x200B;サービスを探して開きます。
1. 「取引を記録」チェックボックスを選択します。「**保存**」をクリックします。

   手順 1 から 3 を、すべてのオーサーインスタンスとパブリッシュインスタンスで繰り返します。

### トランザクションレポートを表示する権限を付与する {#provide-rights-to-view-a-transaction-report}

トランザクションレポートを表示できるのは、fd-administrator グループのメンバーだけです。ユーザーがトランザクションレポートを表示できるようにするには、ユーザーを fd-administrator グループのユーザーに指定します。ユーザーを AEM グループのメンバーに指定する手順については、[ユーザー、グループ、アクセス権の管理](/help/sites-administering/user-group-ac-admin.md)を参照してください。

### （オプション）トランザクションフラッシュ期間とアウトボックスの設定 {#optional-configure-transaction-flush-period-and-outboxes}

トランザクションは、リポジトリに保存される前にメモリにキャッシュされます。この処理を実行することで、リポジトリへの書き込みが頻繁に行われないようにします。デフォルトでは、キャッシュ期間（トランザクションフラッシュ期間）は 60 秒に設定されています。デフォルトの期間は、環境に合わせて変更できます。デフォルトのキャッシュ間隔を変更するには、以下の手順を実行します。

1. オーサーインスタンスに管理者としてログインします。「**ツール**」>「**操作**」>「**Web コンソール**」にアクセスします。
1. **Forms Transaction Repository Storage Provider** サービスを探して開きます。
1. 秒数を「**トランザクションフラッシュ期間**」フィールドに入力します。「**保存**」をクリックします。

リバースレプリケーションを行うと、トランザクションデータがオーサーインスタンスのデフォルトのアウトボックスにコピーされます。トランザクションデータは、カスタムアウトボックスに配置できます。次の手順を実行して、カスタムアウトボックスを指定します。

1. オーサーインスタンスに管理者としてログインします。「**ツール**」>「**操作**」>「**Web コンソール**」にアクセスします。
1. **Forms トランザクションリポジトリストレージプロバイダー**&#x200B;サービスを見つけて開きます。
1. カスタムアウトボックスの名前を&#x200B;**アウトボックス**&#x200B;フィールドに指定します。「**保存**」をクリックします。指定した名前のアウトボックスがすべてのオーサーインスタンス上に作成されます。

## トランザクションレポートの表示 {#viewing-the-transaction-report}

オーサーインスタンスまたはパブリッシュインスタンスのトランザクションレポートを表示できます。オーサーインスタンスのトランザクションレポートは、設定されたオーサーインスタンスとパブリッシュインスタンスで発生するすべてのトランザクションの集計合計を提供します。パブリッシュインスタンスのトランザクションレポートは、基になるパブリッシュインスタンスでのみ発生するトランザクションの数を提供します。レポートを表示するには、次の手順を実行します。

1. AEM Forms サーバーに `https://[hostname]:'port'` でログインします。
1. **ツール**／**Forms**／**トランザクションレポートの表示**&#x200B;に移動します。 

## レポートについて {#understanding-the-report}

AEM Forms には、次の要約レポートに示すように、設定した日付以降のトランザクションレポートが表示されます。

![sample-transaction-report-author](assets/sample-transaction-report-author.png)

* 「**日付を今日にリセット**」オプションを使用して、トランザクションレコードをリセットします。日付を今日にリセットすると、以前のトランザクションレコードはすべて失われます。オーサーインスタンスで日付をリセットした場合、この変更はパブリッシュインスタンスのトランザクションレポートには影響しません（逆も同様です）。
* **パブリッシュインスタンスのトランザクションのみを表示**&#x200B;を使用して、設定済みのパブリッシュインスタンスまたはパブリッシュファームでのみ発生したすべてのトランザクションを表示します。
* **処理済みのドキュメント**、**レンダリングされたドキュメント**、**送信済みのフォーム**&#x200B;のカテゴリを使用して、対応するトランザクションを表示します。これらのカテゴリで説明されるトランザクションのタイプについては、[請求可能なトランザクションレポート API](../../forms/using/transaction-reports-billable-apis.md) を参照してください。

## トランザクションレポートログの表示 {#view-transaction-reporting-logs}

トランザクションレポートでは、レポートに表示されるすべての情報と一部の追加情報がログに記録されます。ログに表示される情報は、上級ユーザーにとって役立ちます。例えば、ログはレポートに表示される 3 つの統合カテゴリと比較して、トランザクションを複数の詳細なカテゴリに分割します。ログは、`/crx-repository/logs/` ディレクトリの `error.log` ファイルで利用できます。ログは、AEM web コンソールからトランザクションレポートを有効にしない場合でも使用できます。

## 関連記事 {#related-articles}

* [OSGi 上のAEM Formsのトランザクションレポートの概要](../../forms/using/transaction-reports-overview.md)
* [OSGi 上のAEM Formsのトランザクションレポート請求可能な API](../../forms/using/transaction-reports-billable-apis.md)
* [OSGi でのAEM Formsのカスタム実装のトランザクションの記録](/help/forms/using/record-transaction-custom-implementation.md)
