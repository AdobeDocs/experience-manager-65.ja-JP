---
title: ディレクトリの同期
seo-title: ディレクトリの同期
description: 手動またはスケジュール設定による同期を使用して User Management データベースをソースディレクトリサーバーに対する変更と同期する方法について説明します。
seo-description: 手動またはスケジュール設定による同期を使用して User Management データベースをソースディレクトリサーバーに対する変更と同期する方法について説明します。
uuid: 71cbc04d-6172-49b7-a490-ff3233c1b2bb
contentOwner: admin
content-type: reference
geptopics: SG_AEMFORMS/categories/setting_up_and_managing_domains
products: SG_EXPERIENCEMANAGER/6.5/FORMS
discoiquuid: 7ec0698a-9e6e-48d4-bba2-5a6eee313900
translation-type: tm+mt
source-git-commit: a3c303d4e3a85e1b2e794bec2006c335056309fb
workflow-type: tm+mt
source-wordcount: '1040'
ht-degree: 97%

---


# ディレクトリの同期 {#synchronizing-directories}

ドメインを同期する場合、手動で実行するか、スケジュールを設定して実行することができます。*手作業による同期*&#x200B;では、選択した任意のドメインが同期されます。*スケジュール設定による同期*&#x200B;では、すべてのドメインが同期されます。

ディレクトリの同期を使用して、ディレクトリ設定で指定したディレクトリサーバーから詳細を取得して User Management データベースに送ります。ディレクトリサーバーで変更または更新が発生した場合は、後で手動による同期を実行することもできます。例えば、ユーザーおよびグループが追加された場合やユーザーのアカウントに変更が加えられた場合に手動による同期を実行できます。

毎日実行する同期スケジュールを設定して、User Management データベースをソースディレクトリサーバーに対する変更または更新と自動的に同期することもできます。ただし、このプロセスではネットワークおよびサーバーのリソースが使用されることに注意してください。使用率が低い時間帯を選択し、システムおよびネットワークリソースを占有する不要な同期のスケジュールを設定しないようにしてください。不要な同期を最小限に抑えるには、代わりに即時同期オプションを使用します。

また、ドメインの同期の際に、ユーザー情報およびグループ情報を Adobe LiveCycle Content Services 9（非推奨）に挿入するかどうかを指定できます。

>[!NOTE]
>
>LDAP ディレクトリの同期化が進行中に、ローカルの複数のユーザーとグループを作成しないでください。この処理を試みると、エラーが発生します。

>[!NOTE]
>
>ドメインの同期処理が中断された場合（処理の途中でアプリケーションサーバーが停止した場合など）、ドメインの同期を試行する前に待機する必要があります。同期のステータスを評価するには状態を確認します。サーバーが停止する前に User Management がロックを取得した場合は、サーバーの再起動後、ロックが解除されるまで 10 分間待機してください。同期のステータスが「処理中」であるにもかかわらず同期が中断または停止されている場合、User Management は 3 分後に同期を再試行します。試行が 3 回失敗すると、User Management は同期の失敗を宣言してロックを解除します。

>[!NOTE]
>
>Adobe® LiveCycle® Content Services ES（非推奨）は LiveCycle と共にインストールされるコンテンツ管理システムです。Content Services では、ユーザーは人間中心のプロセスを設計、管理、監視および最適化することができます。Content Services（非推奨）のサポートは 2014 年 12 月 31 日をもって終了しています。[製品のライフサイクルに関するドキュメント](https://www.adobe.com/support/products/enterprise/eol/eol_matrix.html)を参照してください。Content Services（非推奨）の設定について詳しくは、『[Content Services の管理](https://help.adobe.com/en_US/livecycle/9.0/admin_contentservices.pdf)』を参照してください。

## 差分ディレクトリ同期の有効化 {#enable-delta-directory-synchronization}

差分ディレクトリ同期によってディレクトリ同期の効率が向上します。差分ディレクトリ同期を有効にすると、User Management では最後の同期以降に追加または更新されたユーザーおよびグループのみが同期されます。

差分ディレクトリ同期を有効にすると、User Management では次の手順が実行されます。

* ディレクトリサーバーからすべてのユーザーが取得されますが、タイムスタンプが変更されたユーザーについてのみ User Management データベースが更新されます。
* すべてのグループが取得されますが、タイムスタンプが変更されたグループについてのみ User Management データベースが更新されます。
* タイムスタンプが変更されたグループのグループメンバーのみが取得され、その情報について User Management データベースが更新されます。

>[!NOTE]
>
>ディレクトリから削除されたユーザーとグループは、ディレクトリ全体の同期を実行するまで、User Management データベースから削除されません。

1. 管理コンソールで、設定／User Management／ドメインの管理をクリックします。
1. 「Delta の同期」の下にあるチェックボックスを選択し、「保存」をクリックします。
1. 差分ディレクトリ同期機能を使用するエンタープライズドメインごとに、ディレクトリ設定を編集します。ユーザー設定ページとグループ設定ページの「タイムスタンプを変更」設定に、値として `modify TimeStamp` を入力します。エンタープライズドメインの編集について詳しくは、[既存のドメインの編集と変換](/help/forms/using/admin-help/editing-converting-existing-domains.md#editing-and-converting-existing-domains)を参照してください。

## 同期中の詳細なログの有効化または無効化 {#enable-or-disable-detailed-logging-during-synchronization}

デフォルトで、User Management では、同期処理中に詳細な統計情報がログに記録されます。

1. 管理コンソールで、設定／User Management／設定／システム属性の詳細設定をクリックします。
1. 「同期統計ログ」の指定にあるチェックボックスの選択を解除して詳細なログを無効にするか、選択してログを有効にしてから、「保存」をクリックします。

## ディレクトリ同期の再試行オプションの設定 {#configure-the-directory-synchronization-retry-option}

User Management を設定して、失敗したディレクトリ同期処理を定期的にチェックすることができます。この設定にすると、失敗した同期の完了が User Management で試行されます。

1. 管理コンソールで、設定／User Management／設定／システム属性の詳細設定をクリックします。
1. 「同期完了の Cron 形式」に、失敗した同期を User Management で再試行する間隔を表す Cron 形式を入力します。Cron 形式の使用方法は、Quartz オープンソースジョブスケジュールシステムのバージョン 1.4.0 に基づきます

   デフォルトは0 0/13 &amp;ast；です。? &amp;ast;これは、チェックが13分ごとに行われることを意味します。

## 手動によるディレクトリの同期 {#manually-synchronize-directories}

1. 管理コンソールで、設定／User Management／ドメインの管理をクリックします。
1. （オプション）ユーザー情報およびグループ情報を Content Services（非推奨）に挿入するには、「このオプションを選択すると、ユーザーとグループが、登録済みの外部プリンシパルストレージプロバイダーに挿入されます」オプションを選択します。このオプションは、ユーザーとグループページから新しいユーザーとグループを追加する場合にも適用されます。
1. 同期する各エンタープライズドメインのチェックボックスを選択して、「今すぐ同期」をクリックします。

   複数のドメインを選択した場合は、すべてのドメインに対してドメイン同期を同時に実行できます。一方、ドメインを個別に選択した場合、一度に実行できるドメイン同期は 1 つだけです。

## ディレクトリの同期スケジュールの設定 {#schedule-directory-synchronization}

1. 管理コンソールで、設定／User Management／ドメインの管理をクリックします。
1. 同期をスケジュールするには：

   * 毎日の自動同期を有効にするには、「スケジューラー」の下の「発生時期」を選択します。リストから「毎日」を選択し、対応するボックスに 24 時間形式で時間を入力します。設定を保存すると、この値は Cron 形式に変換され、「Cron 形式」ボックスに表示されます。
   * 特定の曜日や毎月または特定の月の特定の日に同期スケジュールを設定するには、「Cron 形式」を選択してボックスに適切な式を入力します。例えば、月の最後の金曜日の午前 1 時 30 分のように指定して同期を実行することができます。

Cron 形式の使用方法は、Quartz オープンソースジョブスケジュールシステムのバージョン 1.4.0 に基づきます

* 自動同期を無効にするには、「発生時期」を選択し、リストから「なし」を選択します。
* （オプション）ユーザー情報およびグループ情報を Content Services（非推奨）に挿入するには、「このオプションを選択すると、ユーザーとグループが、登録済みの外部プリンシパルストレージプロバイダーに挿入されます」オプションを選択します。このオプションは、ユーザーとグループページから新しいユーザーとグループを追加する場合にも適用されます。
* 「保存」をクリックします。

## 進行中のディレクトリ同期すべての停止 {#stop-all-directory-synchronizations-currently-in-progress}

1. 管理コンソールで、設定／User Management／ドメインの管理をクリックします。
1. 「中止」をクリックします。ディレクトリ同期が進行中の場合にのみ、このボタンは表示されます。

