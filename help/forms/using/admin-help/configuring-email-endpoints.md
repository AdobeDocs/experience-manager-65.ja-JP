---
title: 電子メールエンドポイントの設定
seo-title: 電子メールエンドポイントの設定
description: 電子メールエンドポイントを設定する方法を学びます。
seo-description: 電子メールエンドポイントを設定する方法を学びます。
uuid: d47bb45b-0e0e-43ca-9e25-e347d0e60206
contentOwner: admin
content-type: reference
geptopics: SG_AEMFORMS/categories/managing_endpoints
products: SG_EXPERIENCEMANAGER/6.5/FORMS
discoiquuid: dcf15c42-9ec6-4d1c-ad41-083aa0b8c7ae
translation-type: tm+mt
source-git-commit: 317fadfe48724270e59644d2ed9a90fbee95cf9f

---


# 電子メールエンドポイントの設定 {#configuring-email-endpoints}

電子メールエンドポイントを使用すると、1 個または複数のドキュメントを電子メールに添付し、指定した電子メールアカウントに送信することで、サービスを呼び出すことができます。電子メールのインボックスは添付ファイルの収集ポイントとして機能します。サービスによってインボックスが監視され、添付ファイルが処理されます。変換の結果は、エンドポイントで定義されたユーザーに転送されます。

電子メールエンドポイントの場合、許可されたユーザーは、適切なアカウントに電子メールでファイルを送信することによってプロセスを呼び出すことができます。結果は、送信元のユーザー（デフォルト）またはエンドポイントの設定で定義されたユーザーに返されます。

電子メールエンドポイントを設定する前に、エンドポイントに使用する POP3 または IMAP 電子メールアカウントを作成します。変換処理の種類ごとに個別のアカウントを設定します。例えば、受信添付ファイルから標準の PDF ドキュメントを生成するために 1 つのアカウントを設定し、セキュリティが確保された PDF ドキュメントを生成するために別のアカウントを設定することができます。

>[!NOTE]
>
>各電子メールアドレスは、1 つの電子メールエンドポイントにのみマップする必要があります。追加の電子メールエンドポイントが無効な場合でも、1 つの電子メールアドレスに複数の電子メールエンドポイントを設定することはできません。

すべての電子メールエンドポイントは、電子メールインボックス向けの認証されたユーザー名とパスワードを使用して設定されます。このユーザー名とパスワードはサービスを呼び出すときに必要になります。電子メールアカウントは、その電子メールアカウントの設定が行われているメールサーバーシステムによって保護されます。

If your users send documents with Western European language characters in file and conversion path names, they must use an email application that supports the required encoding types (Latin1 [ISO-8859-1], Western European [Windows], or UTF-8). 詳しくは、使用しているアプリケーションサーバー版の『*AEM forms のインストールおよびデプロイ*』ガイドを参照してください。

電子メールエンドポイントを設定する前に、Email サービスを設定します（[デフォルトの電子メールエンドポイントの設定](configuring-email-endpoints.md#configure-default-email-endpoint-settings)を参照）。Email サービスの設定パラメーターには、2 つの用途があります。

* すべての電子メールエンドポイントに共通する属性を設定すること
* すべての電子メールエンドポイントで使用されるデフォルト値を指定すること

## 電子メールエンドポイントに対する SSL の設定 {#configure-ssl-for-an-email-endpoint}

電子メールエンドポイントに Secure Sockets Layer（SSL）を使用するように POP3、IMAP または SMTP を設定することができます。

1. 電子メールサーバーで、製造元のマニュアルに従って POP3、IMAP または SMTP に対して SSL を有効にします。
1. 電子メールサーバーからクライアント証明書を書き出します。
1. keytool プログラムを使用して、クライアント証明書ファイルをアプリケーションサーバーの Java 仮想マシン（JVM）証明書ストアに読み込みます。この手順は、JVM とクライアントのインストールパスによって異なります。

   例えば Microsoft Windows Server® 2003 で JDK 1.5.0 を使用してデフォルトの Oracle WebLogic Server インストール環境を使用している場合は、コマンドプロンプトで次のように入力します。

   `keytool -import -file client_certificate -alias myalias -keystore BEA_HOME\jdk150_04\jre\security\cacerts`

1. パスワードの入力を求められたら、適切なパスワードを入力します（Java の場合、デフォルトのパスワードは `changeit` です）。証明書が正しく読み込まれたことを示すメッセージが表示されます。
1. 電子メールエンドポイントをサービスに追加するには、管理コンソールを使用します。
1. 管理コンソールで電子メールエンドポイントを作成します。エンドポイントを設定する際に、受信メッセージに対しては「POP3/IMAP SSL を有効にする」オプションを選択し、送信メッセージに対しては「SMTP SSL を有効にする」オプションを選択して、ポートのプロパティを変更します。

>[!NOTE]
>
>ヒント：SSL を使用しているときに問題が発生した場合は、Microsoft Outlook などの電子メールクライアントを使用して、SSL を使用して電子メールサーバーにアクセスできるかどうかを確認してください。電子メールクライアントで電子メールサーバーにアクセスできない場合は、証明書か電子メールサーバーのいずれかの設定に問題があります。

## デフォルトの電子メールエンドポイントの設定 {#configure-default-email-endpoint-settings}

サービスの管理ページを使用して、すべての電子メールエンドポイントに共通する属性を設定し、すべての電子メールエンドポイントのデフォルト値を設定することができます。

forms ワークフローでユーザーからの電子メールメッセージを受信および処理するには、Complete Task サービス用の電子メールエンドポイントを作成する必要があります。この電子メールエンドポイントには、[Complete Task サービス用の電子メールエンドポイントの作成](configuring-email-endpoints.md#create-an-email-endpoint-for-the-complete-task-service)で説明するように、追加の設定が必要です。

### 電子メールエンドポイントのデフォルト値の変更 {#change-the-default-values-for-email-endpoints}

1. 管理コンソールで、サービス／アプリケーションおよびサービス／サービスの管理をクリックします。
1. サービスの管理ページで、「Email: 1.0」をクリックします（コンポーネント ID は、com.adobe.idp.dsc.provider.service.email.Email です）。
1. 「設定」タブで、デフォルトの電子メールエンドポイント設定を指定して、「保存」をクリックします。

### デフォルトの電子メールエンドポイントの設定 {#default-email-endpoint-settings}

**Cron式:** Cron式。入力ディレクトリのポーリングをスケジュールするためにQuartzで使用されます。

**繰り返し間隔：** ディレクトリのポーリングが繰り返される回数。 エンドポイントの設定でこの値を指定しない場合は、デフォルトの繰り返し間隔（秒単位）が使用されます。デフォルト値は 10 です。 です。この値を 10 未満にすることはできません。

**繰り返し回数：** 入力ディレクトリがポーリングされた回数。 エンドポイントの設定でこの値を指定しない場合は、デフォルトの繰り返し回数が使用されます。-1 を指定すると、ディレクトリは無限にスキャンされます。デフォルト値は -1 です。

**ジョブ開始の遅延：** エンドポイントをスキャンするジョブ開始の前の遅延のデフォルト値（秒）です。 デフォルト値は 0 です。

**バッチサイズ：** 受信者が最適なパフォーマンスを得るために1回のスキャンで処理する電子メールの数。 -1 を指定すると、すべての電子メールが処理されます。デフォルト値は 2 です。

**非同期：** 呼び出しの種類を非同期型または同期型として識別します。 一過性および同期型のプロセスは、同期型でのみ呼び出すことができます。デフォルト値は「asynchronous」です。

**ドメインパターン：** 受信電子メールのフィルタリングに使用するドメイン名パターン。 例えば、adobe.com を使用すると、adobe.com から受信した電子メールのみが処理され、それ以外のドメインからの電子メールは無視されます。

**ファイルパターン：** プロバイダーが受け付ける受信ファイル添付パターンです。 特定の式子(&amp;ast;.dat、&amp;ast;.xml)を持つファイル、特定の名前(data)、名前と拡張子(.[dD][aA]&#39;port&#39;)。 デフォルト値は&amp;ast；です。&amp;ast;.

**成功したジョブの受信者:** ジョブの成功を示す電子メールの送信に使用される1つ以上の電子メールアドレス。 デフォルトでは、ジョブ正常終了メッセージは常に最初のジョブの送信者に送信されます。最大 100 人の受信者を指定できます。この設定を無効にするには、フィールドを空白のままにします。

**失敗したジョブの受信者:** ジョブの失敗を示す電子メールの送信に使用される1つ以上の電子メールアドレス。 デフォルトでは、ジョブ失敗メッセージは常に最初のジョブの送信者に送信されます。最大 100 人の受信者を指定できます。この設定を無効にするには、フィールドを空白のままにします。

**Inbox Host:** 電子メールプロバイダーがスキャンするインボックスのホスト名またはIPアドレス。

**Inbox Port:** 電子メールプロバイダーがスキャンするインボックスのポート番号です。 この値が 0 の場合は、デフォルトの IMAP ポートまたは POP3 ポートが使用されます。

**Inbox Protocol:** 電子メールエンドポイントがインボックスのスキャンに使用する電子メールプロトコルです。 IMAP または POP3 を選択できます。指定のプロトコルはインボックスホストメールサーバーでサポートされている必要があります。

**Inbox Time Out:** インボックスに接続しようとしたときに、エンドポイントがキャンセルするまでの待機時間を指定します。 タイムアウト値に達する前に接続が確立されない場合、インボックスはポーリングされません。

**Inbox User:** 電子メールアカウントにログインするために必要なユーザー名です。 電子メールサーバーと設定によって、電子メールのユーザー名の部分だけを指定する場合と、完全な電子メールアドレスを指定する場合があります。

**Inbox Password:** 受信トレイユーザーのパスワードです。

**POP3/IMAP SSL Enabled:** 選択すると、SSLが有効になります。

**SMTP Host:** 電子メールプロバイダーが結果およびエラーメッセージの送信に使用するメールサーバーのホスト名です。 例えば、mail.corp.example.com のように指定します。

**SMTP Port:** メールサーバーへの接続に使用するポート。 デフォルト値は 25 です。

**SMTP User:** 電子メールプロバイダーが結果やエラーの電子メールを送信する際に使用するユーザーアカウントです。

**SMTP Password:** SMTPアカウントのパスワードです。 SMTP パスワードが不要なメールサーバーもあります。

**送信元：** 結果やエラーの電子メール通知の送信に使用する電子メールアドレス(user@company.comなど)。 「送信者」の値を指定しない場合、電子メールサーバーでは、「SMTP ユーザー」設定で指定されている値と、電子メールサーバーで設定されているデフォルトのドメインを組み合わせて、電子メールアドレスを決定します。使用している電子メールサーバーにデフォルトのドメインがなく、「送信者」の値を指定しない場合は、エラーが発生することがあります。電子メールメッセージに正しい送信元アドレスが表示されるように、「Send From」設定の値を指定してください。

**SMTP SSL Enabled:** 選択すると、SSL over SMTPが有効になります。

**元の電子メールの本文を添付ファイルとして含める：** デフォルトでは、formsサーバーに電子メールを送信すると、メッセージの元のテキストがメッセージの本文に含まれます。 代わりに、テキストを添付ファイルとして含めるには、このオプションを選択します。

**Use The Original Subject Line For Result Emails:** デフォルトでは、Formsサーバーは、結果の電子メールメッセージを送信する際に、件名行として「成功の電子メールの件名」と「エラーの電子メールの件名」の設定に指定された値を使用します。 代わりに、サーバーに送信された元の電子メールと同じ件名行を使用するには、このオプションを選択します。

**成功の電子メールの件名：** 電子メールを開始に送信するか、プロセスを続行すると、AEM formsサーバーから返信の電子メールメッセージを受け取ります。 送信した電子メールに問題がなかった場合は、成功の電子メールを受け取ります。送信した電子メールに問題があった場合は、問題の内容を知らせる失敗の電子メールを受け取ります。この設定により、このエンドポイントに対して送信される成功の電子メールメッセージの件名行を指定できます。

**成功の電子メールの本文：** このエンドポイントに対して送信される成功の電子メールメッセージの本文を指定できます。

**Error Email Subject Prefix:** このエンドポイントに対して送信される失敗の電子メールメッセージの件名行の先頭に使用するテキストを指定できます。

**エラーの電子メールの件名：** このエンドポイントに対して送信される失敗の電子メールメッセージの件名行を指定できます。 このテキストは、エラーの電子メールの件名プレフィックスの後に表示されます。

**Error Email Body:** このエンドポイントに対して送信される失敗の電子メールメッセージの本文の最初の行を指定できます。

**電子メールの概要情報：** 各成功または失敗のメッセージには、formsサーバーに送信した元の電子メールテキストを含むセクションが含まれます。 この設定では、そのセクションの上に表示するテキストを指定します。

**Validate Inbox Before Creating/Updating This Endpoint:** このオプションを選択すると、エンドポイントを作成する前に、SMTP/POP3の設定が正しいかどうかがformsサーバーで確認されます。 「追加」をクリックすると、インボックスアカウントが有効かどうかを示すメッセージが表示されます。このオプションを選択しなかった場合、AEM Forms サーバーはインボックスを確認せずにエンドポイントを作成します。

**文字セットエンコーディング：** 電子メールメッセージに使用するエンコーディング形式です。 デフォルトは UTF-8 です。日本以外のほとんどのユーザーはこれを使用します。日本語環境のユーザーは、ISO2022-JP を選択できます。

**Failed Email Sent Folder:** SMTPメールサーバーが動作していない場合に結果を保存するディレクトリを指定します。

## 電子メールエンドポイントの設定 {#email-endpoint-settings}

電子メールエンドポイントを設定するには、次の設定を使用します。

**名前：** エンドポイントを識別する必須の設定です。 &lt; は含めないでください。含めると、Workspace に表示される名前の一部が省略されます。エンドポイント名として URL を入力する場合は、RFC1738 で指定された構文規則に準拠していることを確認します。

**説明：** エンドポイントの説明。 &lt; は含めないでください。含めると、Workspace に表示される説明の一部が省略されます。

**Cron式:** Cron式を使用して電子メールをスケジュールする必要がある場合は、Cron式を入力します。

**繰り返し回数：** 電子メールエンドポイントがフォルダーまたはディレクトリをスキャンする回数。 -1 を指定すると、無限にスキャンされます。デフォルト値は -1 です。

**繰り返し間隔：** 受信者が受信メールを確認するために使用するスキャン率です。

**ジョブ開始の遅延：** スキャンが完了するまで待機する時間です。スケジューラー開始。

**バッチサイズ：** 受信者が最適なパフォーマンスを得るために1回のスキャンで処理する電子メールの数。 -1 を指定すると、すべての電子メールが処理されます。デフォルト値は 2 です。

**ユーザー名：** 必須の設定です。電子メールからユーザーサービスを呼び出すときに使用されるターゲット名です。 デフォルト値は「SuperAdmin」です。

**ドメイン名：** ユーザーのドメインである必須の設定。 デフォルト値は「DefaultDom」です。

**ドメインパターン：** プロバイダーが受け入れる受信電子メールのドメインパターンを指定します。 例えば、adobe.com を使用すると、adobe.com から受信した電子メールのみが処理され、それ以外のドメインからの電子メールは無視されます。

**ファイルパターン：** プロバイダーが受け付ける受信ファイル添付パターンを指定します。 特定の式子(&amp;ast;.dat、&amp;ast;.xml)を持つファイル、特定の名前(data)、または名前と拡張子(&amp;ast;)を持つ複合拡張子を持つファイルが含まれます。[dD][aA]&#39;port&#39;)。

**成功したジョブの受信者:** ジョブの成功を示すメッセージの送信先の電子メールアドレスです。 デフォルトでは、ジョブの正常終了メッセージは常に送信者に送信されます。sender と入力すると、電子メールの結果は送信者に送信されます。最大 100 人の受信者を指定できます。追加の受信者を電子メールアドレスで指定するときは、カンマ（,）で区切ります。

この設定を無効にするには、設定を空白のままにします。結果の電子メール通知を送信しないで、プロセスを起動することが必要な場合もあります。

**失敗したジョブの受信者:** ジョブの失敗を示すメッセージの送信先の電子メールアドレス。 デフォルトでは、ジョブ失敗メッセージは常に送信者に送信されます。sender と入力すると、電子メールの結果は送信者に送信されます。最大 100 人の受信者を指定できます。追加の受信者を電子メールアドレスで指定するときは、カンマ（,）で区切ります。

この設定を無効にするには、設定を空白のままにします。結果の電子メール通知を送信しないで、プロセスを起動することが必要な場合もあります。

**Inbox Host:** 電子メールプロバイダーがスキャンするインボックスのホスト名またはIPアドレス。

**Inbox Port:** 電子メールサーバーが使用するポート。 POP3 のデフォルト値は「110」で、IMAP のデフォルト値は「143」です。SSL が有効になっている場合は、POP3 のデフォルト値は「995」で、IMAP のデフォルト値は「993」です。

**Inbox Protocol:** 電子メールエンドポイントがインボックスのスキャンに使用する電子メールプロトコルです。 値は IMAP または POP3 です。指定のプロトコルはインボックスホストメールサーバーでサポートされている必要があります。

**Inbox Time Out:** 電子メールプロバイダーがインボックスの応答を待機する時間（秒単位）です。

**Inbox User:** 電子メールアカウントへのログインに必要なユーザー名です。 電子メールサーバーと設定によって、電子メールのユーザー名の部分だけを指定する場合と、完全な電子メールアドレスを指定する場合があります。

**Inbox Password:** インボックスユーザーのパスワードです。

**POP3/IMAP SSL Enabled:** この設定を選択すると、電子メールプロバイダーはSSLを使用してインボックスをスキャンします。 電子メールサーバーで SSL がサポートされている必要があります。

**SMTP Host:** 電子メールプロバイダーが結果およびエラーメッセージの送信に使用するメールサーバーのホスト名です。

**SMTP Port:** SMTPポートのデフォルト値は25です。

**SMTP User:** 電子メールプロバイダーが結果とエラーの電子メール通知を送信する際に使用するユーザーアカウントです。

**SMTP Password:** SMTPアカウントのパスワードです。 SMTP パスワードが不要なメールサーバーもあります。

**送信元：** 結果やエラーの電子メール通知の送信に使用する電子メールアドレス(user@company.comなど)。 「送信者」の値を指定しない場合、電子メールサーバーでは、「SMTP ユーザー」設定で指定されている値と、電子メールサーバーで設定されているデフォルトのドメインを組み合わせて、電子メールアドレスを決定します。使用している電子メールサーバーにデフォルトのドメインがなく、「送信者」の値を指定しない場合は、エラーが発生することがあります。電子メールメッセージに正しい送信元アドレスが表示されるように、「Send From」設定の値を指定してください。

**SMTP SSL Enabled:** この設定を選択すると、電子メールプロバイダーはSSLを使用してインボックスをスキャンします。 電子メールサーバーで SSL がサポートされている必要があります。

**Failed Email Sent Folder:** SMTPメールサーバーが動作していない場合に結果を保存するディレクトリを指定します。

**非同期：** 同期に設定すると、すべての入力ドキュメントが処理され、単一の応答が返されます。 「asynchronous」（非同期）に設定すると、1 つのドキュメントの処理が完了するたびに応答が返されます。

例えば、1 つの Word ドキュメントを受け取って PDF ファイルとして返すサービスに電子メールエンドポイントを作成します。複数（3 つ）の Word ドキュメントが含まれる電子メールをエンドポイントのインボックスに送信できます。エンドポイントが「同期」に設定されている場合は、3 つドキュメントのすべてが処理されると、1 つの応答電子メールに 3 つのドキュメントのすべてが添付されて送信されます。エンドポイントが非同期の場合、1 つの Word ドキュメントが PDF に変換されるごとに、応答電子メールが送信されます。その結果、それぞれ 1 つの PDF ファイルが添付された 3 件の電子メールが送信されます。

デフォルト値は「asynchronous」です。

**元の電子メールの本文を添付ファイルとして含める：** デフォルトでは、formsサーバーに電子メールを送信すると、メッセージの元のテキストがメッセージの本文に含まれます。 代わりに、テキストを添付ファイルとして含めるには、このオプションを選択します。

**結果の電子メールに元の件名行を使用：** デフォルトでは、Formsサーバーは、結果の電子メールメッセージを送信する際に、件名行として「成功の電子メールの件名」と「エラーの電子メールの件名」の設定に指定された値を使用します。 代わりに、サーバーに送信された元の電子メールと同じ件名行を使用するには、このオプションを選択します。

**成功の電子メールの件名：** 電子メールを開始に送信するか、プロセスを続行すると、AEM formsサーバーから返信の電子メールメッセージを受け取ります。 送信した電子メールに問題がなかった場合は、成功の電子メールを受け取ります。送信した電子メールに問題があった場合は、問題の内容を知らせる失敗の電子メールを受け取ります。この設定により、このエンドポイントに対して送信される成功の電子メールメッセージの件名行を指定できます。

**成功の電子メールの本文：** このエンドポイントに対して送信される成功の電子メールメッセージの本文を指定できます。

**Error Email Subject Prefix:** このエンドポイントに対して送信される失敗の電子メールメッセージの件名行の先頭に使用するテキストを指定できます。

**エラーの電子メールの件名：** このエンドポイントに対して送信される失敗の電子メールメッセージの件名行を指定できます。 このテキストは、エラーの電子メールの件名プレフィックスの後に表示されます。

**Error Email Body:** このエンドポイントに対して送信される失敗の電子メールメッセージの本文の最初の行を指定できます。

**電子メールの概要情報：** 各成功または失敗のメッセージには、formsサーバーに送信した元の電子メールテキストを含むセクションが含まれます。 この設定では、そのセクションの上に表示するテキストを指定します。

**このエンドポイントを作成/更新する前にインボックスを検証する：** このオプションを選択すると、エンドポイントを作成する前に、SMTP/POP3の設定が正しいかどうかがformsサーバーで確認されます。 「追加」をクリックすると、インボックスアカウントが有効かどうかを示すメッセージが表示されます。このオプションを選択しなかった場合、AEM Forms サーバーはインボックスを確認せずにエンドポイントを作成します。

**操作名：** この設定は必須です。 電子メールエンドポイントに割り当てることができる操作のリストです。ここで選択した操作によって、「入力パラメーターのマッピング」および「出力パラメーターのマッピング」のセクションに表示されるフィールドが決定されます。

**Input Parameter Mappings:** サービスと操作の処理に必要な入力を設定するために使用します。 入力には、リテラルと変数の 2 種類があります。

**リテラル：** 電子メールでは、フィールドに入力された値が表示どおりに使用されます。

**変数：** 電子メールの件名、本文、ヘッダーまたは送信者の電子メールアドレスから文字列をマップできます。 これを行うには、キーワード %SUBJECT%、%BODY%、%HEADER%、%SENDER% のいずれかを使用します。例えば %SUBJECT% を使用すると、電子メールの件名の内容が入力パラメーターとして使用されます。添付ファイルを取得するには、電子メールエンドポイントが使用できるファイルパターンを入力します。このパターンによって、添付ドキュメントが選択されます。例えば、&amp;ast;.pdfと入力すると、.pdfという拡張子を持つ添付ドキュメントが選択されます。 &amp;ast；を入力アタッチされたドキュメントを選択 example.pdf と入力すると、example.pdf という名前の添付ドキュメントが選択されます。

**出力パラメーターのマッピング：** サービスと操作の出力を設定するために使用します。 出力パラメーターに次の文字を使用すると、マップされた値が添付ファイル名に展開されます。

**%F** ：ソースファイルのファイル名（拡張子は含まない）を表します。

**%E** ：ソースファイルの拡張子を表します。

バックスラッシュ（\）は %% に置き換えられます。

***注意&#x200B;**：サービス要求メッセージに複数の添付ファイルが含まれている場合、エンドポイントの出力パラメーターのマッピングプロパティの値に、%F パラメーターおよび %E パラメーターを使用することはできません。サービス応答が複数の添付ファイルを返す場合、2 つ以上の添付ファイルに同じファイル名を指定することはできません。これらの推奨事項に従わない場合は、返されるファイルには、呼び出されたサービスにより名前が付けられるので、予期できない名前になります。*

使用可能な値を次に示します。

**Single Object:** 電子メールプロバイダーには、ソースフォルダーの宛先がありません。結果は添付ファイルとして返されます。 パターンは「Result/%F.ps」です。結果は、「Result%%sourcefilename.ps」という名前の添付ファイルとして返されます。

**リスト:** パターンは「Result/%F/」で、Result%%sourcefilename%%file1をファイル名の添付ファイルとして返します。

**マップ：** パターンは「Result/%F/」で、ソースの保存先は「Result%%sourcefilename%%file1」、結果%%sourcefilename%%file2です。 複数のオブジェクトがマップにあり、パターンが「Result/%F.ps」である場合、応答添付ファイルは「Result%%sourcefilename1.ps」（出力 1）および「Result%%sourcefilename2.ps」（出力 2）になります。

## Complete Task サービス用の電子メールエンドポイントの作成 {#create-an-email-endpoint-for-the-complete-task-service}

forms ワークフローでユーザーからの電子メールメッセージを受信および処理するには、Complete Task サービス用の電子メールエンドポイントを作成する必要があります。

1. 管理コンソールで、サービス／アプリケーションおよびサービス／サービスの管理をクリックします。
1. サービスの管理ページで、「Complete Task」サービスをクリックします。
1. 「エンドポイント」タブで、ドロップダウンリストから「電子メール」を選択して、「追加」をクリックします。
1. 「インボックスホスト」ボックスに、メールサーバーのホスト名または IP アドレスを入力します。
1. 「インボックスユーザー」ボックスに、フォーム送信処理用に作成した電子メールアカウントへのログインに必要なユーザー名を入力します。電子メールサーバーと設定によって、電子メールのユーザー名の部分だけを指定する場合と、完全な電子メールアドレスを指定する場合があります。
1. 「インボックスパスワード」ボックスに、インボックスユーザーのパスワードを入力します。
1. 「SMTP ホスト」ボックスに、電子メールプロバイダーからの結果またはエラーメッセージの送信元となるメールサーバーのホスト名または IP アドレスを入力します。
1. 「SMTP ユーザー」ボックスに、電子メールプロバイダーが結果およびエラーの電子メールを送信する際に使用するユーザーアカウントを入力します。このユーザーアカウントには、「インボックスユーザー」と同じ値を使用できます。
1. 「SMTP パスワード」ボックスに、SMTP アカウントのパスワードを入力します。
1. 操作名リストで、「invoke」を選択します。
1. In the attachmentMap list, select Variable and type `*.*` in the adjacent box. これで、受信メールメッセージのすべての添付ファイルが Complete Task プロセスのマップ変数に送信されます。
1. In the mailBody list, select variable and type `%BODY%` in the adjacent box.
1. In the mailFrom list, select Variable and type `%SENDER%` in the adjacent box. これで、送信者のアドレスが Complete Task プロセスデータにマップされます。
1. 結果のボックスに、`results` と入力します。これで、Complete Task または開始プロセスから結果の文字列が返されます。
1. 「追加」をクリックします。

