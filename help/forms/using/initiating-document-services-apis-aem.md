---
title: AEMワークフローからDocument Services APIを開始
seo-title: AEM ワークフローからの Document Services API の開始
description: DDX または指定された入力で AEM Document Services を呼び出す方法について説明します。PDF を PDF/A に変換する方法も参照してください。
seo-description: DDX または指定された入力で AEM Document Services を呼び出す方法について説明します。PDF を PDF/A に変換する方法も参照してください。
uuid: aacec2df-1ad6-4ff2-a99d-ef206efcdc09
content-type: reference
products: SG_EXPERIENCEMANAGER/6.5/FORMS
topic-tags: document_services
discoiquuid: 8b85bdc7-3864-49c9-81b0-cf15b8e986d9
exl-id: 123087a2-9d09-4579-9185-2ccd7d25bf8d
source-git-commit: b220adf6fa3e9faf94389b9a9416b7fca2f89d9d
workflow-type: tm+mt
source-wordcount: '1199'
ht-degree: 87%

---

# AEM ワークフローからの Document Services API の開始  {#initiate-document-services-apis-from-aem-workflow}

## Assembler {#assembler}

AEM Formsは、次のAssemblerサービスAPIを呼び出すカスタムワークフローを提供します。

* **呼び出し**：提供されたインプット上の入力DDXで指定された操作を呼び出します。
* **toPDFA**：入力PDFドキュメントをPDF/Aドキュメントに変換します。

### Invoke DDX ワークフロー {#invoke-ddx-workflow}

**DDX**&#x200B;を呼び出しワークフローは、`Invoke` AssemblerサービスAPIを呼び出します。このAPIを使用して、ドキュメントのアセンブリまたはディスアセンブリ、PDFへの透かしの追加などを行うことができます。

1. Sidekickの中のフォームのワークフローの下で、**[!UICONTROL Invoke DDX]**&#x200B;ワークフローステップをドラッグします。
1. 追加されたワークフローステップをダブルクリックしてコンポーネントを編集します。
1. エディターコンポーネントダイアログで、入力ドキュメント、環境オプションおよび出力ドキュメントを設定して&#x200B;**[!UICONTROL OK]**&#x200B;をクリックします。

#### 入力ドキュメント {#input-documents}

Invoke DDXワークフローには以下の入力ドキュメントが必要です。

* **DDX**：Invoke DDXワークフローステップの必須入力項目で、以下のDDXオプションのうち一つを選択することで指定することができます。

   * *ペイロードとの関連*:DDX入力ファイルは、ワークフロー項目のペイロードフォルダーに対する相対パスです。
   * *ペイロードの使用*：ワークフロー項目のペイロードはDDXドキュメントとして使用されます。
   * *絶対パス*：CRXリポジトリの中のDDXドキュメントへの絶対パスです。

* **PayLoadからマップを作成**:選択すると、ペイロードフォルダーの下のすべてのドキュメントが、AssemblerのAPIの入力ドキュメントマップに `invoke` 追加されます。各ドキュメントのノード名は、マップのキーとして使用されます。

* **入力ドキュメントマップ**:入力ドキュメントのマップを指定します。各エントリがマップのキーおよびドキュメントのソースのエントリを指定するすべてのエントリ数を追加することができます。

#### 環境オプション {#environment-options}

環境オプションタブでは呼び出しAPIのための様々な処理オプションを設定が可能です。

* *ジョブのログレベル*：処理ログのログレベルを指定します。
* *Validate Only*：入力DDXの有効性をチェックします。

* *Fail On Error*：Assemblerサービスの呼び出しがエラーの場合に失敗するかどうかを指定します。デフォルト値は False です。

#### 出力ドキュメント {#output-documents}

入力DDXに応じて、呼び出しAPIは複数の出力ドキュメントを生成することができます。出力ドキュメントタブは、出力ドキュメントの保存場所の選択を可能にします。

1. *ペイロードでの出力の保存*:ペイロードフォルダーの下に出力ドキュメントを保存するか、ペイロードがファイルの場合はペイロードを上書きします。
1. *出力ドキュメントのマップ*：出力ドキュメント毎に１つのエントリを追加することによって、各出力ドキュメントの保存場所をを明確に指定します。各エントリは、ドキュメントと保存場所を指定します。出力ドキュメントは、ペイロードに上書きしたり、ペイロードフォルダーの下で保存したりできます。複数の出力ドキュメントがあると役に立ちます。

1. *ジョブログ*：トラブルシューティングエラーが出た時に役立つように、ジョブログを保存する場所を指定します。

### PDF/Aワークフローへの変換 {#convert-to-pdf-a-workflow}

PDF/Aワークフローステップへの変換は、「 Assembler Service API」を呼び出します。`toPDFA`PDF/Aに準拠した文書をPDFに変換するのに使用します。

1. Sidekickのフォームワークフロータブの下にある&#x200B;**** ConvertToPDFAワークフローステップをドラッグします。

1. 追加されたワークフローステップをダブルクリックしてコンポーネントを編集します。
1. 編集コンポーネントダイアログで、入力ドキュメント、変換オプションおよび出力ドキュメントを設定して&#x200B;**[!UICONTROL OK]**&#x200B;をクリックします。

#### 入力ドキュメント {#input-documents-1}

以下のいづれかの方法でPDF/Aに準拠した文書に変換する文書のソースを指定します。

* ペイロードとの関連&#x200B;*：入力ドキュメントは、ワークフロー項目のペイロードフォルダーに関連しています。*
* *ペイロードの使用*：ワークフロー項目のペイロードは入力ドキュメントとして使用します。
* **&#x200B;絶対パス：CRXリポジトリの中の入力ドキュメントへの絶対パスです。

#### 変換オプション {#conversion-options}

変換オプションでは、PDF/Aへの変換プロセスを変更するオプションを指定することができます。

* *互換性*：PDF/Aの標準が、どの出力PDF/Aに準拠しなければならないかを指定します。
* *結果レベル*：PDF/A変換ログに使用するログレベルを指定します。
* *署名*：入力ドキュメントの署名が、変換中にどのように処理されなければならないかを指定します。
* *カラースペース*：事前に定義された出力PDF/Aドキュメントに使用されるカラースペースを指定します。
* ** VerifyConversion:変換後のPDF/AドキュメントがPDF/Aに準拠しているかどうかを指定します。
* **&#x200B;ジョブのログレベル：処理ログのログレベルを指定します。

* *Metadata Extension Schema*：PDF文書のメタデータのXMPプロパティに使用するMetadata extension schemaを指定します。

#### 出力ドキュメント {#output-documents-1}

出力ドキュメントタブは、出力ドキュメントの出力先を指定することができます。

* *PDFA文書*：変換されたPDF/A文書を保存されている場所を明確にします。ペイロード文書に上書きするか、ペイロードフォルダーの下で保存できます。
* *変換ログ*：変換ログが保存されている場所を明確にします。ペイロードドキュメントを上書きするか、ペイロードフォルダーの下に保存できます。

## フォーム {#forms}

Render PDF Formワークフローは、`renderPDFForm`Forms service APIの周りのラッパーで、XDPテンプレートおよびデータxmlを使用してPDFフォームを作成します。

### Render PDF Formワークフロー {#render-pdf-form-workflow}

1. Sidekickのフォームワークフロータブの下にあるRender PDF Formワークフローステップをドラッグします。
1. 追加されたワークフローステップをダブルクリックしてコンポーネントを編集します。
1. 編集コンポーネントダイアログでは、入力ドキュメント、出力ドキュメントおよびその他のパラメーターを設定して、OKをクリックします。****

#### 入力ドキュメント {#input-documents-2}

* *テンプレートファイル*：XDPテンプレートの場所を指定します。このフィールドは必須です。

* *データドキュメント*：テンプレートとマージする必要があるデータxmlの場所を指定します。

#### 出力ドキュメント {#output-documents-2}

* *出力ドキュメント*：生成したPDFフォームの名前を指定します。

#### その他のパラメーター  {#additional-parameters}

* *Content Root*：入力XDPテンプレートに使用されているフラグメントまたは画像が保存されているリポジトリ内のフォルダーへのパスを指定します。
* 送信 Url *：生成されたPDFフォームのデフォルト送信URLを指定します。*
* *ロケール*：生成されたPDFフォームのデフォルトロケールを指定します。
* *Acrobatのバージョン*：生成されたPDFフォームのターゲットのAcrobatバージョンを指定します。
* *タグ付きPDF*：生成されたPDFフォームをアクセシビリティ対応にするかどうかを指定します。
* *XCIドキュメント*：XCIファイルへのパスを指定します。

## 出力 {#output}

Generate Non Interactive PDFワークフローは、`generatePDFOutput`OutputサービスAPIの周りのラッパーです。XDPテンプレートとデータxmlから非インタラクティブPDFドキュメントを生成するために使用されます。

### NonInteractive PDFOutputワークフローの生成{#generate-non-interactive-pdf-output-workflow-nbsp}

1. Sidekickのフォームワークフロータブの下にあるGenerate Non Interactive PDF Outputワークフローをドラッグします。
1. 追加されたワークフローステップをダブルクリックしてコンポーネントを編集します。
1. 編集コンポーネントダイアログでは、入力ドキュメント、出力ドキュメントおよびその他のパラメーターを設定して、OKをクリックします。****

#### 入力ドキュメント {#input-documents-3}

* *テンプレートファイル*：XDPテンプレートの場所を指定します。このフィールドは必須です。

* *データドキュメント*：テンプレートとマージする必要があるデータxmlの場所を指定します。

#### 出力ドキュメント {#output-document}

*出力ドキュメント*：生成されたPDFフォームの名前を指定します。

#### その他のパラメーター  {#additional-parameters-1}

* *Content Root*：入力XDPテンプレートに使用されているフラグメントまたは画像が保存されているリポジトリ内のフォルダーへのパスを指定します。
* ロケール&#x200B;*：生成されたPDFフォームのデフォルトロケールを指定します。*
* *Acrobatのバージョン*：生成されたPDFフォームのターゲットのAcrobatバージョンを指定します。
* Linearized PDF：Web表示のために生成されたPDFフォームを最適化するかどうかを指定します。
* *タグ付きPDF*：生成されたPDFフォームをアクセシビリティ対応にするかどうかを指定します。
* *XCIドキュメント*：XCIファイルへのパスを指定します。
