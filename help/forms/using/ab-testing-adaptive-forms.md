---
title: アダプティブフォームの A/B テストの作成と管理
description: AEM Forms と Adobe Target の統合により、アダプティブフォームに対して A/B テストを実行して、カスタマーエクスペリエンス（顧客体験）を強化しコンバージョン率を向上させることができます。
content-type: reference
products: SG_EXPERIENCEMANAGER/6.5/FORMS
topic-tags: integrations
docset: aem65
exl-id: be2444df-c772-4a8e-83f9-0f565c15a44e
source-git-commit: bd86d647fdc203015bc70a0f57d5b94b4c634bf9
workflow-type: tm+mt
source-wordcount: '1558'
ht-degree: 98%

---

# アダプティブフォームの A/B テストの作成と管理 {#create-and-manage-a-b-test-for-adaptive-forms}

[!BADGE 廃止]{type=negative tooltip="この機能は提供終了となりました"}

<div class="preview"> アダプティブフォームに対する A/B テスト機能は提供が終了し、サポートされなくなりました。 </div>

## 概要 {#overview-br}

顧客は、フォームのエクスペリエンスに魅力がない場合、フォームを放棄してしまいます。顧客にとって不満が生じる一方で、組織のサポート量とコストが増加する可能性もあります。コンバージョン率を向上させるカスタマーエクスペリエンス（顧客体験）を正しく認識して提供することは非常に重要であり、難題でもあります。この問題を解決する鍵は Adobe Experience Manager Forms にあります。

AEM Forms は Adobe Experience Cloud ソリューションである Adobe Target と統合することで、個々の顧客に対応した魅力的な顧客体験を、複数のデジタルチャネルにわたって提供します。Target の主な機能の一つである A/B テストを使用すると、同時 A/B テストを簡単に設定し、対象ユーザーに関連するコンテンツを表示して、コンバージョン率を向上させるエクスペリエンスを特定することができます。

Adobe Experience Manager（AEM）Forms を使用すると、アダプティブフォームで A/B テストをリアルタイムで設定し実行できます。また、標準提供のカスタマイズ可能なレポート機能で、フォームのエクスペリエンスのリアルタイムなパフォーマンスを可視化し、ユーザーエンゲージメントとコンバージョンを最大限に高めるエクスペリエンスを特定します。

## AEM Forms での Target のセットアップと統合 {#set-up-and-integrate-target-in-aem-forms}

アダプティブフォームの A/B テストを作成し分析する前に、Target サーバーを設定し、AEM Forms に統合する必要があります。

### Target のセットアップ {#set-up-target}

AEM を Target と統合するには、有効な Adobe Target アカウントがあることを確認します。Adobe Target に登録すると、クライアントコードを受け取ります。AEM を Target と接続するには、クライアントコード、Target アカウントに関連付けられたメールおよびパスワードが必要です。

クライアントコードは Adobe Target の顧客アカウントを識別するもので、Adobe Target サーバーの呼び出し時に URL 内のサブドメインとして使用されます。続行する前に [https://experience.adobe.com/](https://experience.adobe.com/) にログオンし、アクセス権がある場合は、「[!UICONTROL クイックアクセス]」セクションの [!DNL Adobe Target] オプションを表示します。

### 実行中の Target サーバーを AEM Forms に統合 {#integrate-target-in-aem-forms}

1. AEM サーバーで、https://&lt;*hostname*>:&lt;*port*>/libs/cq/core/content/tools/cloudservices.html にアクセスします。

1. 「**Adobe Target**」セクションで、「**設定を表示**」をクリックし、**+** アイコンをクリックして設定を追加します。
初めて Target を設定する場合は、「**今すぐ設定**」をクリックします。

1. 設定を作成ダイアログで、設定の「**タイトル**」とオプションで「**名前**」を指定します。

1. 「**作成**」をクリックします。コンポーネントを編集ダイアログが開きます。
1. Target アカウントの詳細（クライアントコード、メール、パスワードなど）を指定します。
1. API タイプドロップダウンリストから「**Rest**」を選択します。

1. 「**Adobe Target に接続**」をクリックすると、Target の接続を開始できます。接続に成功すると、「接続に成功しました」というメッセージが表示されます。メッセージの「**OK**」をクリックして、ダイアログの「**OK**」をクリックします。Target アカウントが設定されます。

1. Target フレームワークの作成については、「[フレームワークの追加](/help/sites-administering/target.md)」の説明に従ってください。

1. https://&lt;*hostname*>:&lt;*port*>/system/console/configMgr にアクセスします。

1. 「**AEM Forms Target の設定**」をクリックします。
1. **Target フレームワーク**&#x200B;を選択します。
1. 「**ターゲット URL**」フィールドで、A/B テストを実行するすべての URL を指定します。例えば、OSGi の AEM Forms サーバーでは https://&lt;*hostname*>:&lt;*port*>/ となり、JEE の AEM Forms サーバーでは https://&lt;*hostname*>:&lt;*port*>/lc/ となります。
パブリッシュインスタンスの Target URL を設定し、顧客がホスト名または IP アドレスを使用してその URL にアクセスできるようにするとします。その場合は、ホスト名と IP アドレスを使用して、両方を Target URL として設定する必要があります。URL のいずれか 1 つのみを設定する場合、その A/B テストは別の URL からの顧客に対して実行されません。「**+**」をクリックして複数の URL を指定します。 

1. 「**保存**」をクリックします。

Target サーバーが AEM Forms と統合されています。Adobe Target を使用する完全なライセンスがある場合、A/B テストを有効にできるようになりました。

Adobe Target を使用するための完全なライセンスがある場合、Target を AEM Forms と統合した後、以下のパラメーターを使用してサーバーを起動します。

`parameter -Dabtesting.enabled=true java -Xmx2048m -XX:MaxPermSize=512M -jar -Dabtesting.enabled=true`

AEM インスタンスが JBoss® 上で実行されており、`jboss\bin\standalone.conf.bat` ファイルのターンキーからサービスとして開始された場合は、以下のエントリにパラメーター（-Dabtesting.enabled=true）を追加します。

`set "JAVA_OPTS=%JAVA_OPTS% -Dadobeidp.serverName=server1 -Dfile.encoding=utf8 -Djava.net.preferIPv4Stack=true -Dabtesting.enabled=true"`

JBoss® サーバーに加えて、アプリケーションサーバーのサーバー起動スクリプトにも引数（-Dabtesting.enabled=true jvm）を追加できます。これで、アダプティブフォームの A/B テストを作成し、実行できるようになりました。

>[!NOTE]
>
>設定した Target URL を後で更新する場合は、実行中の A/B テストを必ず更新し、現在の URL が指定されるようにしてください。A/B テストの更新について詳しくは、[A/B テストを更新](/help/forms/using/ab-testing-adaptive-forms.md#p-update-a-b-test-p)を参照してください。
>

## AEM 内でのオーディエンスの作成 {#create-audiences-within-aem}

AEM では、オーディエンスを作成し、A/B テストに使用できます。AEM 内で作成したオーディエンスは、AEM Forms で使用できます。AEM 内でオーディエンスを作成するには、以下のように行います。

1. オーサリングインスタンスで、「 」を選択します。 **Adobe Experience Manager** > **パーソナライズ** > **オーディエンス**.

1. オーディエンスページで、「 **オーディエンスを作成/ Target オーディエンスを作成**.
1. Adobe Target 設定ダイアログで、ターゲット設定を選択し、「**OK**」をクリックします。
1. 新しいオーディエンスを作成ページで、ルールを作成します。ルールを使用すると、オーディエンスを分類できます。例えば、オペレーティングシステムに基づいてオーディエンスを分類する場合などです。オーディエンス A は Windows から、オーディエンス B は Linux® から来ています。

   1. Windows に基づいてオーディエンスを分類するには、ルール #1 で、**OS** 属性タイプを選択します。タイミングドロップダウンから、**Windows** を選択します。

   1. Linux® に基づいてオーディエンスを分類するには、ルール #2 で、**OS** 属性タイプを選択します。**タイミング**&#x200B;ドロップダウンから、「**Linux®**」を選択し、「**次へ**」をクリックします。

1. 作成したオーディエンスの名前を指定し、「**保存**」をクリックします。

以下のように、フォームに対して A/B テストを設定する際に、オーディエンスを選択できます。

## アダプティブフォームの A/B テストの作成 {#create-a-b-test}

1. https://&lt;*hostname*>:&lt;*port*>/aem/forms.html/content/dam/formsanddocuments の「**フォームとドキュメント**」へ進みます。

1. アダプティブフォームを含むフォルダーに移動します。
1. ツールバーの&#x200B;**選択**&#x200B;ツールをクリックして、アダプティブフォームを選択します。
1. ツールバーの&#x200B;**詳細**&#x200B;をクリックして、「**A/B テストを設定**」を選択します。「A/B テストを設定」ページが開きます。

[](assets/ab-test-configure-1.png)

1. A/B テストの「**アクティビティ名**」を指定します。 

1. 「オーディエンス」ドロップダウンリストから、そのフォームの異なるエクスペリエンスの提供対象オーディエンスを選択します。例えば、**Chrome を使用している訪問者**&#x200B;です。オーディエンスリストは、設定済みの Target サーバーから入力されます。

1. エクスペリエンス A および B に対する&#x200B;**エクスペリエンス配布**&#x200B;フィールドで、パーセンテージの見地から配信内容を指定し、全オーディエンス間のエクスペリエンスの配信を決定します。例えば、エクスペリエンス A および B に対してそれぞれ 40、60 を指定すると、エクスペリエンス A はオーディエンスの 40％に配信され、残りの 60％にはエクスペリエンス B が表示されます。
1. 「**設定**」をクリックします。A/B テストの作成を確認するダイアログが表示されます。
1. 「**エクスペリエンス B を編集**」をクリックすると、アダプティブフォームを編集モードで開くことができます。フォームを修正し、デフォルトのエクスペリエンス A とは異なるエクスペリエンスを作成します。エクスペリエンス B で変更可能な箇所は、次のとおりです。

   * CSS またはスタイル設定
   * 異なるパネルまたは同じパネルのフィールドの順序
   * パネルレイアウト
   * パネルタイトル
   * フィールドの説明、ラベルおよびヘルプテキスト
   * 送信フローに影響を与えず、送信フローを中断しないスクリプト
   * 検証（クライアントサイドとサーバーサイドの両方）
   * エクスペリエンス B のテーマ（エクスペリエンス B の別のテーマを選択できます）

1. Forms とドキュメント UI に移動し、アダプティブフォームを選択して、「**詳細**」をクリックして、「**A/B テストを開始**」を選択します。

A/B テストが実行され、指定されたオーディエンスに、指定された配分に基づいてエクスペリエンスがランダムに提供されます。

## A/B テストを更新 {#update-a-b-test}

実行中の A/B テストのオーディエンスおよびエクスペリエンスの配分を更新できます。

A/B テストを更新するには：

1. フォームとドキュメント のUI で、A/B テストが実行されているアダプティブフォームを含むフォルダーに移動します。
1. アダプティブフォームを選択します。
1. 「**詳細**」をクリックして、「**A/B テストを編集**」を選択します。「A/B テストを更新」ページが開きます。 

1. 必要に応じて、オーディエンスおよびエクスペリエンスの配布を更新します。
1. 「**更新**」をクリックします。

## A/B テストレポートの表示および分析 {#view-and-analyze-a-b-test-report}

A/B テストを目的の期間実行したら、レポートを生成して、どのエクスペリエンスがコンバージョン率を高めたかを確認できます。パフォーマンスの高いエクスペリエンスを推奨結果として宣言するか、別の A/B テストを実行することを選択できます。

A/B テストレポートを表示し分析するには：

1. アダプティブフォームを選択し、「**詳細**」、「**A/B テストレポート**」の順にクリックします。レポートが表示されます。

[](assets/ab-test-report-3.png)

1. レポートを分析して、結果が良い方のエクスペリエンスを推奨結果として宣言するのに十分なデータポイントが得られていることを確認します。同じ A/B テストをさらに時間をかけて継続する、または推奨結果を宣言する、あるいは A/B テストを終了するかを選択できます。 
1. 推奨結果を宣言して A/B テストを終了するには、レポートダッシュボードで「**A/B テストを終了**」ボタンをクリックします。2 つのエクスペリエンスのいずれかを推奨結果として宣言するように求めるダイアログが表示されます。推奨結果を選択し、A/B テストの終了を確認します。
別の方法として、それぞれのエクスペリエンスで「**推奨結果を宣言**」ボタンをクリックして最初に推奨結果を宣言することができます。推奨結果の確認を求めるプロンプトが表示されます。「**はい**」をクリックして A/B テストを終了します。 

エクスペリエンス A を推奨結果として選択した場合、A/B テストは終了し、その後はエクスペリエンス A のみがオーディエンスに表示されます。
