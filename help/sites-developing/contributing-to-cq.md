---
title: AEM への貢献
seo-title: Contributing to AEM
description: AEM は、大規模なオープンソースのプロジェクトで一般的に実施される、実績ある方法に従って開発されます
seo-description: AEM is developed following proven methodologies commonly practiced in large open source projects
uuid: ffef60ae-8a9a-4c4b-8cbd-3cd72792a42e
contentOwner: Guillaume Carlino
products: SG_EXPERIENCEMANAGER/6.5/SITES
topic-tags: introduction
content-type: reference
discoiquuid: f52402df-f6dc-4c62-82bc-cbce489b2b74
exl-id: 43fb4fa3-269a-4635-b055-4b7d787da21f
source-git-commit: 2bae11eafb875f01602c39c0dba00a888e11391a
workflow-type: tm+mt
source-wordcount: '2709'
ht-degree: 47%

---

# AEM への貢献{#contributing-to-aem}

## 開発方法 {#development-methodology}

AEM は、大規模なオープンソースのプロジェクトで一般的に実施される、実績ある方法に従って開発されます。AEM のテクノロジースタックの多くのコア要素は、実際は Sling や Jackrabbit のようなアクティブなオープンソースプロジェクトとして保守され、Apache Software Foundation に貢献しました。AEM に存在するこの精神における重要な側面は、利用可能なメーリングリストやオンラインフォーラムを活用した開発チームとの直接のやり取りが奨励されているということです。

AEM のコンポーネントに貢献する場合は、オープンソースプロジェクトに貢献する場合と同様に AEM に関する知識を深め、このようなプロジェクトに貢献しようとする場合と同様に既存のコアチームとコミュニケーションを取る必要があります。

## 必要な経験 {#required-experience}

HyperText Transfer Protocol（HTTP）は、すべての作業の中心となります。したがって、AEM に貢献する前に、HTTP について深く理解する必要があります。スレッドプーリングを使用してマルチスレッド HTTP サーバーの Java 実装を独自で記述できるレベルが理想です。また、HTTP/1.1 のキープアライブ動作についても理解する必要があり、JavaScript によるサーバー／クライアント側のインタラクション、特に、AJAX によって表現される非同期スタイルのインタラクションに関する深い知識も必要です。

ページダイナミズムとインタラクティブなコンテンツが WM 体験では重要なので、Document Object Model について、またこれを使用してイベントに対する応答をプログラムによって操作する可能性についても、かなり深く理解しておくことが不可欠です。例えば、リアルタイムの DOM 操作や、複数のブラウザードキュメントにまたがったドラッグ＆ドロップ動作（iframe を使用するなど）についても、ある程度の知識が必要です。

最高レベルでは、以下について確実に理解する必要があります。

* [HTTP/1.1 プロトコル](https://www.ietf.org/rfc/rfc2616.txt)
* HTML（[HTML5](https://dev.w3.org/html5/spec/Overview.html) が望ましい）
* カスケーディングスタイルシート
* Extensible Markup Language（XML）
* Asynchronous JavaScript and XML（AJAX）設計パターン
* JavaScript Object Notation（JSON）
* Document Object Model
* ステートフルインタラクションとステートレスインタラクション
* [Uniform Resource Identifier](https://www.ietf.org/rfc/rfc2396.txt)
* ブラウザーの cookie
* その他の最新の Web 開発概念

Adobe Experience Managerのテクノロジースタックは、[Apache Sling](https://sling.apache.org/site/index.html) Web フレームワークを備えた [Apache Felix](https://felix.apache.org/) OSGI コンテナに基づいており、[Apache Jackrabbit](https://jackrabbit.apache.org/jcr-api.html) に基づいて Java コンテンツリポジトリ ([JCR](https://www.adobe.io/experience-manager/reference-materials/spec/jcr/2.0/index.html)) を埋め込みます。これらの個々のプロジェクトと、投稿する予定の領域で使用されるその他のオープンソースコンポーネント（Apache Lucene など）について理解しておく必要があります。

## 業界知識 {#tribal-knowledge}

一定の概念や指針は、以前の Day 社の文化に深く根ざしています。ここでは、「DNA に深く埋め込まれている」問題の中で注意すべきものをいくつか示します。

### すべてがコンテンツである {#everything-is-content}

コンテンツには、Web アプリケーションが保持するすべてのデータが含まれるだけではありません。あらゆる種類のプログラムコード、ライブラリ、スクリプト、テンプレート、HTML、CSS、画像、アーティファクトは、すべてコンテンツリポジトリに保持され、パッケージマネージャーとパッケージ共有を介して読み込み/書き出しされます。

### David&#39;s Model {#david-s-model}

Java コンテンツリポジトリでのコンテンツのモデル化方法は、リレーショナル世界でのデータモデリングのためのソフトウェア業界で一般的な方法とは全く異なる考え方が必要です。JCR の方法は [David のモデルです。コンテンツモデリングのガイド ](https://wiki.apache.org/jackrabbit/DavidsModel)。

### RESTful であること {#restfulness}

REST アプローチは、作業内容に深く根ざしています。つまり、何よりも、ステートフルなインタラクションを回避すること、また、URI がコンテンツおよびサービスの確定的なアドレスであることを心に留めておくことです。

REST（REpresentational State Transfer）は、World Wide Web の基礎となっているソフトウェアアーキテクチャスタイルを示します。Web を機能させるための重要な要素について説明するものであり、Web ベースのソフトウェアの設計方法について一連の原則を提供します。したがって、Web 経由で使用する API を設計するときは、これらの「ベストプラクティス」を順守することが合理的です。

REST は非常に多くの作業の背景に指針となる考え方を提供するので、RESTful な設計の教義を熟知しておくことが不可欠と考える必要があります。手始めとしてふさわしいのは、[Roy Fielding 氏の論文](https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm)です。

### Sling の要求解決 {#sling-request-resolution}

AEM について理解する上で重要な点は、受信要求がコンテンツおよびアプリケーションの動作とどのように関連付けられるか、コンテンツリポジトリでのコンテンツの構造、および要求処理のためのアプリケーションロジックを AEM がどこで検索するかです。Apache [Sling の URL の分解](https://sling.apache.org/site/url-decomposition.html)について、また、REST アーキテクチャスタイルおよびそのステートレスでキャッシュ可能な階層化システムの制約を実施する方法について学習してください。

Apache Sling の要求解決に関しては、コンテンツリポジトリの特定のリソースに要求が最初にマップする方法、コンテンツをレンダリングする際にどのアプリケーションコードを呼び出すかを要求する追加プロパティとこれらのコンテンツオブジェクトのプロパティによって決定する方法、および /apps 内のコードで /libs 内のコードを上書きする方法を理解することが重要です。

### クイックスタート {#quickstart}

手順 3 がない：インストールして実行するには、クイックスタート JAR ファイルをダウンロードしてダブルクリックするだけです。手順 3 はありません。オプションの機能を追加する場合も、パッケージ共有から該当するパッケージをインストールするだけです。

クイックスタートのサイズが小さい：クイックスタート JAR ファイルのサイズは最小限に抑えます。ライブラリの使用を最適化し、オプション機能をパッケージ共有に移行して、スマートで最適化。

起動時間が短い：起動時間に影響する可能性のある変更をおこなう場合は、長くなるのではなく、短くなるようにします。

### 無駄なくすっきり {#lean-and-mean}

アドビでは、軽量でサイズが小さく、高速かつ洗練されたコードやプロジェクトを優先します。「十分に良い」では本当に十分ではありません。

コードの再利用：OSGi ベースの製品アーキテクチャと「すべてがコンテンツである」という考え方は、コードおよびアーティファクトを再利用する、いつにない好機が与えられているということを意味します。アドビでは、この事実を可能な限り利用して、無駄なくすっきりした機能を維持しようとしています。

疎結合：アドビでは、厳密な依存関係や「不要な密接さ」よりも、疎結合のインタラクションを優先します。疎結合により、より多くのコードの再利用も可能になります。

### デモを無効にしない {#don-t-break-the-demo}

デモでよく表示されるデモスクリプトや製品機能について理解します。少なくとも、「デモスクリプト」機能を無効にすべきことは何もないことを理解してください。開発中でも、コア製品は必ずデモに対応する必要があります。

### 信頼できる設計 {#design-for-reliability}

アドビでは、フェイルソフトな方法で機能を設計およびコード化するよう努めています。これにより、例えば 1 つの DOM 要素の問題が原因でページ全体がレンダリングされなくなることはありません。つまり、致命的とするべきことは致命的とし、その他はすべて存続可能にして、製品を「寛容に」するということです。

### 異常は新たな正常 {#abnormal-is-the-new-normal}

シャットダウンフックに依存しないで、起動時にクリーンアップを行ってください。異常終了は正常終了です。

`shutdown == kill -9 == power outage`

### 弾性クラスター化に備える {#be-ready-for-elastic-clustering}

常に弾性クラスタリングの準備ができ、常にクラスタリングがあると仮定します。原則として、コンテンツリポジトリ内のすべてを保持すると、組み込みのクラスタリングサポートを意味します。

### 下位互換性に対応する設計 {#design-for-backward-compatibility}

お客様の古いコードを破ることはありません。 アップグレード時に更新できる製品コードを含める場合は、`/libs` のみを検討してください。 リポジトリの `/apps` セクションはプロジェクトコードで、`/etc` セクションは保持する必要があるカスタム設定を含んでいます。 通常は、`/apps`、`/content`、`/home` 内の設定を上書きしないでください。 アップグレード後も、古いプロジェクトコード、設定およびコンテンツは、アップグレード前と同様に引き続き機能します。

後方互換性を保つための設計では、アップグレードの経験が初期インストールのシンプルさと一致するようになります。AEMを停止し、クイックスタート JAR ファイルを置き換えて、AEM を再起動するだけで十分です。急速に増え続けるインストール・ベースにより、アップグレードの効率性はますます大きなメリットとなります。

より新しく、より高度な機能に置き換えられると、既存の API は廃止とマークを付けることができ、またそうする必要がありますが、以前の 5.x リリースで公開された API はすべて、カスタムアプリケーションコードで使用される可能性があるので、引き続き機能する必要があります。そのような API は削除しないでください。

下位互換性は、コンテンツ構造とユーザー体験の全体的な一貫性という意味でも、心に留めておく必要があります。

## 中心概念 {#core-concepts}

**オーサーインスタンス**  — 通常、セキュリティやガバナンスなどの理由で、実稼動サイトではAEMのインスタンスがオーサーインスタンスとパブリッシュインスタンスに分割されます。デプロイメントアーキテクチャ（オーサー/パブリッシュインスタンスを含む）について詳しくは、AEMインスタンスに関するドキュメントを参照してください。

**キャッシュ、フライ** 、ベーク処理 — 従来、ベーク処理とフライ処理の概念は、異なる Web コンテンツ管理システム間の重要な違いです。CMS の用語では、「焼き付け」とは、公開時に静的ファイルにデータをコミットする概念を指し、「焼き付け」とは、要求時（即時）に最終的なプレゼンテーション用のデータを処理する概念を指します。

**クラスタリングとロードバランシング**  — 可用性を高め、実稼動環境のパフォーマンスを向上させるには、複数のオーサーインスタンスとパブリッシュインスタンスを（クラスターに）組み合わせるか、Dispatcher 設定の背後でロードバランシングします。

また、コンテンツリポジトリの複数のインスタンスを組み合わせて、*高可用性* JCR ソリューションを作成し、AEMソリューションと統合して、ハードウェアやソフトウェアの障害に対する保護を最大限に高めることもできます。 詳しくは、[推奨されるデプロイメント](/help/sites-deploying/recommended-deploys.md#oak-cluster-with-mongomk-failover-for-high-availability-in-a-single-datacenter)を参照してください。

**コンポーネント**  - AEMでは、コンポーネントはオブジェクトタイプで、通常、サイドキックなどからドラッグ&amp;ドロップすることで作成できます。例えば、AEMに付属している標準のコンポーネントには、テキスト、タイトル、タグクラウド、カルーセル、画像、リストの各コンポーネントが含まれ、すべて実行時にサイドキックから使用できます。

**コンテンツファインダー**  — オーサリングモードでは、ページの左側に特別なパネル（フレーム）が表示されます。上部で選択したタブに応じて、コンテンツファインダーから作業中のページ（右側）にドラッグ&amp;ドロップできる画像、ドキュメント、Flashアセット、ページ、段落またはリポジトリリソースのリストが表示されます。

**デジタルアセット**  - AEMでは、デジタルアセットは（通常は）画像とリッチメディアファイルです。詳しくは、「 DAM でのデジタルアセットの操作」を参照してください。

**Dispatcher**  - Dispatcher は、キャッシュとロードバランシングの両方のツールで、特定のセキュリティ保護を提供します。

**ExtJS ウィジェット**  - AEMのほとんどのユーザーインターフェイス要素は、ExtJS を利用します。ExtJS は JavaScript で記述されたサードパーティのウィジェットライブラリです。ExtJS は、高性能でカスタマイズ可能な UI ウィジェットと、設計が整った拡張可能なコンポーネントモデルを備えています。

**JCR、Java コンテンツリポジトリ**  - Java コンテンツリポジトリ仕様 (JSR-283) は、抽象データモデルとアプリケーションプログラミングインターフェイスの両方を提供し、ファイルシステムとオブジェクトデータベースの機能を組み合わせた大規模な NoSQL データリポジトリを実現します。JSR-283 を詳しく理解する必要はありませんが、AEMの「すべてがコンテンツ」という理念を可能にするのは JCR の基本的な機能と、その基盤となるデータモデルに慣れるのに時間をかけてください。

本質的に、JCR はノードとプロパティのシステムであり、ノードは他のノードからの継承が可能で、すべてのコンテンツはプロパティの値として格納されます。**&#x200B;通常の継承に加えて、JCR は「mixin」ノードの概念に対応しており、複数の継承をモデル化できます。

JCR には事前に定義されたノードタイプおよびプロパティタイプが多数含まれていますが、一般的にタイピングシステムは非常に柔軟です。実際に、JCR の長所の 1 つは、構造化コンテンツも非構造化コンテンツも同じくらい簡単に格納および管理できることです。つまり、JCR には高度に構造化されたデータを含めることができますが、任意の動的データ構造もスキーマ制約なしで含めることができます。

JCR の Java API に関する JavaDoc は、[こちら](http://jackrabbit.apache.org/jcr/jcr-api.html)を参照してください。

JavaDoc または JCR の仕様自体を読む前に、Adobe Experience Services によって実装された JCR の[概要](/help/sites-developing/the-basics.md#java-content-repository)にも目を通しておくことをお勧めします。

**マルチサイトマネージャー (MSM)**  - AEMの MSM 機能は、多言語および多国籍のコンテンツの処理に役立ち、一元化されたブランディングとローカライズされたコンテンツのバランスを取ることができます。

**OSGi**  - OSGi は、AEMでモジュール化された Java 開発の基盤を提供するサービスベースのランタイムテクノロジーです。これは、コードリソース（バンドルと呼ばれる）の非常に動的（安全）なクラスの読み込みと実行環境を提供するだけでなく、バンドルによって公開される様々なサービスの表示とライフサイクルを完全に制御するフレームワークです。 サービスレジストリは、ライフサイクルダイナミクス（およびバージョン要件）を考慮したバンドルの協調モデルを提供します。 OSGi は、アプリケーションサーバーが解決しようとした多くの問題を解決しますが、軽量で動的な方法で解決し、例えば、ホットデプロイサービス（サーバーを再起動せずに新しいコードをすぐに利用可能にする）を可能にします。

**Parsys、段落システム**  — 段落システム (parsys) は、作成者が異なるタイプのコンポーネントをページに追加でき、他の段落コンポーネントを含む複合コンポーネントです。それぞれの段落タイプはコンポーネントとして表されます。段落システム自体もコンポーネントであり、他の段落コンポーネントが含まれます。

**Microkernel**  — リポジトリ内の各ワークスペースは、特定のマイクロカーネル（データの読み取りと書き込みを管理するクラス）を通じてデータを保存するように個別に設定できます。同様に、リポジトリレベルのバージョンストアも、特定のマイクロカーネルを使用するように、個別に設定できます。使用できるマイクロカーネルは多数あります。異なるマイクロカーネルを使用すると、様々なファイル形式やリレーショナルデータベースへのデータ保存に対応できます（例えば、MongoDB、DB2 または Oracle 用の永続性マネージャーがあります）。AEM 用のデフォルトのマイクロカーネルは TarMK です（後述）。

**パブリッシュインスタンス**  — 通常、セキュリティ、ガバナンスなどの理由で、実稼動サイトはAEMのインスタンスをオーサーインスタンスとパブリッシュインスタンスに分割します。デプロイメントアーキテクチャ（オーサー/パブリッシュインスタンスを含む）について詳しくは、AEMインスタンスに関するドキュメントを参照してください。

**クイックスタート**  — 他の多くのプログラムとは異なり、AEMをインストールするには、自己解凍型の JAR ファイルを 1 つ使用します。JAR ファイルを初めてダブルクリックすると、必要なすべてが自動的にインストールされます。 クイックスタート JAR には、CRX リポジトリ（管理機能を含む）、仮想リポジトリサービス、インデックスと検索サービス、ワークフローサービス、セキュリティ、Web サーバー、および CQ サーブレットエンジン (CQSE) とすべてのAEMサービスに必要なすべてのファイルが含まれます。 インストールするファイルは他にありません：クイックスタートは自己完結型です。

クイックスタートを初めて起動すると、JCR 対応のリポジトリ全体がバックグランドで作成されます。この処理に数分かかる場合があります。この初期起動が完了すると、リポジトリのインフラストラクチャは既に設定されているので、その後の起動処理はごく短時間で済みます。

多くの起動オプション（アクティブなポート番号、問題の AEM インスタンスをパブリッシュインスタンスとオーサーインスタンスのどちらにするか、など）は、クイックスタートファイルの名前を適宜変更することによって制御できます。この点に関するオプションのリストを確認するには、次のように、コマンドラインで「-help」を付けて JAR を実行します。

```shell
java -jar <quickstartfilename>.jar -help
```

**レプリケーションエージェント**  — レプリケーションエージェントは、オーサー環境からパブリッシュ環境にコンテンツを公開（アクティベート）するメカニズムとしてAEMの中心となります。Dispatcher キャッシュからコンテンツをフラッシュする。パブリッシュ環境からオーサー環境にユーザー生成コンテンツ（フォーム入力など）を返す

**基礎モード**  — 基礎モードを使用すると、ページに必要な構造を反映したフィールドを持つフォーム（基礎モード）を作成し、このフォームを使用して、この構造に基づくページを簡単に作成できます。

**セグメント化**  — サイト訪問者がサイトに来訪したときの興味や目的は異なります。訪問者の目標を把握し、期待に応えることは、オンラインマーケティングの重要な成功の前提条件です。 セグメント化によって訪問者の詳細を分析し、特徴付けることが成功の実現に役立ちます。

**サイドキック**  — サイドキックは、編集可能なページに表示されるパレット状のフローティングウィンドウで、新しいコンポーネントをドラッグしたり、ページに適用するアクションを実行したりできます。

**Site Catalyst** :SiteCatalystは、複数のマーケティングチャネルにわたるすべてのオンラインイニシアチブからの統合データを測定、分析、最適化する 1 か所をマーケターに提供します。Adobe SiteCatalystを使用して、AEM Web サイトのデータを分析できます。

**Tar ストレージ (TarMK)**  - TarMK はAEMのデフォルトの永続性システムです。AEM は、異なる永続化システム（MongoDB など）を使用するように設定できますが、TarMK には、一般的な JCR の使用例向けにパフォーマンスが最適化されており（そのため、非常に高速）、業界標準のデータ形式を使用し、すばやく簡単にバックアップできるという点で明白なメリットがあります。

**テンプレート**  - AEMでは、テンプレートは特定のタイプのページを指定します。ページの構造を定義します（一方、通常はサムネール画像や様々なプロパティも指定します）。 例えば、製品ページ、サイトマップおよび問い合わせ先に、それぞれ別のテンプレートを使用することができます。

**ワークフロー**  - AEM Workflow システムを使用すると、ページやアセットを含む自動プロセスを作成できます。
