---
title: ソフトウェアのアーキテクチャ
description: ソフトウェアの設計に関するベストプラクティス
uuid: a557f6ca-c3f1-486e-a45e-6e1f986fab41
contentOwner: User
products: SG_EXPERIENCEMANAGER/6.5/SITES
content-type: reference
topic-tags: best-practices
discoiquuid: 92971747-1c74-4917-b5a0-7b79b3ae1e68
exl-id: cd4f3b4c-5488-4ca7-9c1e-b4c819fda8e8
source-git-commit: 78c584db8c35ea809048580fe5b440a0b73c8eea
workflow-type: tm+mt
source-wordcount: '614'
ht-degree: 41%

---

# ソフトウェアのアーキテクチャ{#software-architecture}

## アップグレード用のデザイン {#design-for-upgrades}

OOTB 動作を拡張するときは、アップグレードを念頭に置いておくことが重要です。カスタマイズは必ず /apps ディレクトリで適用し、/libs ディレクトリの対応するノードの上にオーバーレイするか、または sling: resourceSuperType を使用して初期設定済みの動作を拡張します。新しいAEMバージョンをサポートするためには、一部の変更が必要になる場合がありますが、この変更に従う場合は、新しいバージョンでカスタマイズ内容が上書きされないようにしてください。

### 可能な場合はテンプレートおよびコンポーネントを再利用する {#reuse-template-and-components-when-possible}

これにより、サイトの外観と操作性をより一貫させ、コードのメンテナンスを簡素化できます。 新しいテンプレートが必要なときは、共有基本テンプレートから拡張してください。このようにすると、clientlib のインクルードといったグローバルな要件を 1 箇所でコーディングできます。新しいコンポーネントが必要な場合は、既存のコンポーネントからの拡張を検討してください。

### テンプレートデザイン {#design-template-designs}

ページで各 parsys にどのコンポーネントを含めることができるかを定義することで、サイトの外観と操作性における一貫性を制御できます。ページ上でのデザインへのアクセスを制限することにより、他の作成者が企業の標準を遵守しながら、「スーパー作成者」は開発者の介入なしでページごとに許可されたコンポーネントを変更できるようになります。

### SOLID アーキテクチャの開発 {#develop-a-solid-architecture}

SOLID は、次の 5 つのアーキテクチャ原則に従う必要があることを表す頭字語です。

* **S**&#x200B;単一の責任原則 — 各モジュール、クラス、メソッドなどは、1 つの責任のみを持つ必要があります。
* **O**（オープン／クローズドの原則 ）- モジュールは、拡張に対してはオープンにし、変更に対してはクローズドにします。
* **L**（リスコフの置換原則） - タイプは、サブタイプに置き換え可能である必要があります。
* **I**（インターフェイス分離の原則） - クライアントに対して、利用していないメソッドへの依存を強制しないようにします。
* **D**（依存性逆転の原則） - 上位のモジュールは、下位のモジュールに依存しないようにします。どちらも抽象概念に依存する必要があります。 抽象概念は、詳細に依存しないでください。 詳細は抽象概念に依存する必要があります。

この 5 つの原則に従うよう努力すれば、厳密に懸念を分離できるシステムになるはずです。

>[!TIP]
>
>SOLID はオブジェクト指向プログラミングで一般的に使用される概念で、各要素は業界文献で広く議論されています。
>
>この情報は、認識のために提示される短い概要です。これらの概念をより深く理解することをお勧めします。

### 堅牢性の原則に準拠する {#follow-the-robustness-principle}

ロバスト性原則は、送信する内容は控えめにするが、受け入れる内容は自由であるべきと述べています。 つまり、サードパーティにメッセージを送信する場合、仕様に完全に準拠する必要があります。 ただし、第三者からメッセージを受け取った場合、メッセージの意味が明確である限り、不適合メッセージを受け取る必要があります。

### 独自のモジュールにスパイクを実装する {#implement-spikes-in-their-own-modules}

スパイクとテストコードは、Agile ソフトウェアの実装の一部です。 ただし、適切な管理レベルがない限り、実稼動用のコードベースに侵入しないようにする必要があります。 その結果、独自のモジュールでスパイクを作成することをお勧めします。

### 独自のモジュールにデータ移行スクリプトを実装する {#implement-data-migration-scripts-in-their-own-module}

データ移行スクリプトは、実稼動コードの間、サイトの初回起動時に 1 回だけ実行されます。 したがって、サイトがライブになると、スクリプトは無効なコードになります。 移行スクリプトに依存する実装コードを構築しないようにするには、独自のモジュールに実装する必要があります。 これにより、起動直後にこのコードを削除して廃止し、システムから無効なコードを削除できます。

### POM ファイルで公開済みの Maven 表記規則に従う {#follow-published-maven-conventions-in-pom-files}

Apache が [https://maven.apache.org/developers/conventions/code.html](https://maven.apache.org/developers/conventions/code.html) でスタイル規則を公開しています。この規則に従うのが最善です。新しいリソースが素早く速く現れるのを簡単にするからです。
