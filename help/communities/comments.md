---
title: コメントの使用
description: コメント機能を使用すると、ログインしたサイトの訪問者が意見や知識を共有できます
contentOwner: msm-service
products: SG_EXPERIENCEMANAGER/6.5/COMMUNITIES
topic-tags: authoring
content-type: reference
docset: aem65
exl-id: 30baebd9-13c5-4fde-a494-85601abc32a5
solution: Experience Manager
feature: Communities
role: Admin
source-git-commit: 1f56c99980846400cfde8fa4e9a55e885bc2258d
workflow-type: tm+mt
source-wordcount: '983'
ht-degree: 2%

---

# コメントの使用 {#using-comments}

## はじめに {#introduction}

コメント機能を使用すると、ログインしたサイト訪問者（メンバー）が、サイト上のコンテンツに関する意見や知識を共有できます。 この機能は、多くの場合、他の機能にも既に存在しますが、任意の web サイトに追加できます。

このドキュメントでは、次の内容について説明します。

* ページへの `Comments` の追加。
* `Comments` コンポーネントの設定。

>[!NOTE]
>
>コメントの匿名ポストはサポートされていません。 サイト訪問者が参加するには、登録（メンバーになる）とログインが必要です。

### ページへのコメントの追加 {#adding-comments-to-a-page}

オーサーモードで `Comments` コンポーネントをページに追加するには、コンポーネントブラウザーを使用して以下を見つけます

* `Communities / Comments`

そして、ユーザーがコメントできる機能に対する相対的な位置や、ページの下部などの、ページ上の場所にドラッグします。

必要な情報については、[Communities コンポーネントの基本 &#x200B;](/help/communities/basics.md) を参照してください。

[&#x200B; 必須のクライアントサイドライブラリ &#x200B;](/help/communities/essentials-comments.md#essentials-for-client-side) が含まれると、`Comments` コンポーネントはこのように表示されます。

![comments-component](assets/comments-component.png)

>[!NOTE]
>
>1 つのページに存在できる `Comments` コンポーネントは 1 つだけです。 Communities のいくつかの機能には、ブログ、カレンダー、フォーラム、QnA、レビューなど、既にコメントが含まれています。

### コメントの設定 {#configuring-comments}

配置した `Comments` コンポーネントを選択してアクセスし、「`Configure`」アイコンを選択すると、編集ダイアログが開きます。

![設定アイコン](assets/configure.png)

![commentssettings](assets/commentssettings.png)

#### 「コメント」タブ {#comments-tab}

「**コメント**」タブで、訪問者がコメントを入力する方法を指定します。

* **返信を許可**

  オンにすると、メンバーは既存のコメントに返信できます。 デフォルトでは選択されていません。

* **1 ページあたりのコメント数**

  1 ページに表示されるコメントの数と表示される返信の数を制限します。 初期設定は 10 です。

* **ファイルのアップロードを許可**

  オンにすると、ファイルをアップロードするオプションがテキスト入力ボックスに表示されます。 デフォルトでは選択されていません。

* **最大ファイルサイズ**

  「ファイルのアップロードを許可」がオンの場合にのみ関連します。 この値は、アップロードされるファイルサイズを制限します。 デフォルトの制限は 10 MB です。

* **最大メッセージ長**

  テキストボックスに入力できる最大文字数。 デフォルトは 4096 文字です。

* **許可されるファイルタイプ**

  「ファイルのアップロードを許可」がオンの場合にのみ関連します。 「ドット」区切り文字を使用したファイル名拡張子のコンマ区切りリスト。 例：.jpg、.jpeg、.png、.doc、.docx、.pdf いずれかのファイルタイプを指定した場合、指定していないファイルタイプは許可されません。 デフォルトは、すべてのファイルタイプが許可されるように、何も指定されていません。

* **リッチテキストエディター**

  オンにすると、コメントがマークアップ付きで入力されます。 デフォルトでは選択されていません。

* **投票の許可**

  オンにした場合、投票の上下のオプションがテキスト入力ボックスに表示されます。 デフォルトでは選択されていません。

* **次の操作を許可**

  オンにすると、メンバーがコメントをフォローできるようになります。 デフォルトでは選択されていません。

* **バッジを表示**

  オンにした場合、獲得および落札済みのバッジの表示を許可します。 デフォルトでは選択されていません。

#### ユーザーモデレートタブ {#user-moderation-tab}

「**ユーザーモデレート**」タブで、投稿されたコメントの管理方法を指定します。 詳しくは、[&#x200B; ユーザー生成コンテンツのモデレート &#x200B;](/help/communities/moderate-ugc.md) を参照してください。

* **プレモデレート**

  オンにした場合、コメントが公開サイトに表示される前に承認する必要があります。 デフォルトでは選択されていません。

* **コメントの削除**

  オンにした場合、コメントを投稿したメンバーに、コメントを削除する機能が提供されます。 デフォルトでは選択されていません。

* **コメントを拒否**

  オンにした場合、モデレーターがコメントを拒否できます。 デフォルトでは選択されていません。

* **コメントを閉じる/再度開く**

  オンにした場合、モデレーターがコメントを閉じて再度開くことを許可します。 デフォルトでは選択されていません。

* **フラグコメント**

  オンにすると、メンバーはコメントに不適切なフラグを付けることができます。 デフォルトでは選択されていません。

* **フラグ理由リスト**

  オンにした場合、メンバーがドロップダウンリストからコメントに不適切なフラグを付けた理由を選択できます。 デフォルトでは選択されていません。

* **カスタムフラグの理由**

  オンにした場合、メンバーがコメントに不適切なフラグを設定する独自の理由を入力できます。 デフォルトでは選択されていません。

* **モデレートしきい値**

  モデレータに通知を送信する前に、コメントがメンバによってフラグ付けされる回数を入力します。 デフォルトは 1 回（1）です。

* **フラグの上限**

  パブリック ビューで非表示にされる前にコメントにフラグを付ける必要がある回数を入力します。 この数は、**モデレートしきい値** 以上である必要があります。 デフォルトは 5 です。

#### 「設定を並べ替え」タブ {#sort-settings-tab}

「**並べ替え設定**」タブで、投稿されたコメントが表示されるときの並べ替え方法を指定します。

* **並べ替えフィールド**

  プルダウンして、`Newest, Oldest, Last Updated, Most Viewed, Most Active, Most Followed` または `Most Liked` のいずれかを選択します。

* **並べ替え順序**

  プルダウンして、`Ascending` または `Descending` のいずれかを選択します。

### カスタムコメントタイプへの変更 {#changing-to-a-custom-comment-type}

コメントリソースタイプを変更すると、コメントシステムはデフォルトを使用してコメントのインスタンスを生成しなくなり、開発者によってカスタマイズ（拡張）されたインスタンスを生成します。

カスタムリソースタイプが分かったら、[&#x200B; デザインモード &#x200B;](/help/sites-authoring/default-components-designmode.md) と入力し、配置した `Comments` コンポーネントをダブルクリックして、追加のタブを含むダイアログを開きます。

「**リソースタイプ**」タブで、`Comments or Voting` のコンポーネントの新しいインスタンスのカスタム resourceType を指定します。

![&#x200B; リソースタイプ &#x200B;](assets/resource-type.png)

* **コメントリソースタイプ**

  /apps 内の拡張 `comment` コンポーネントの resourceType （単一のコメント）に移動します。 例えば、`/apps/social/commons/components/hbs/comments/comment` のように指定します。

  このリソースは、訪問者がコメントを投稿する際に作成された UGC の resourceType を識別します。

* **投票リソースの種類**

  /apps で拡張 `voting` コンポーネントの resourceType に移動します。 例えば、`/apps/social/components/hbs/voting` のように指定します。

  このリソースは、訪問者が投票を投稿する際に作成された UGC のリソースタイプを識別します。

* **コメントシステムリソースタイプ**

  /apps 内の拡張 `comments` コンポーネント（コメントシステム）の resourceType に移動します。 ページテンプレートが、リソース（コメントノード [&#128279;](/help/communities/scf.md#add-or-include-a-communities-component) としてページに追加されるのではなく、基になるスクリプトにコメントシステムを  動的に含める）場合を除き、空白のままにします。 詳しくは、[`{{include}}` helper](/help/communities/handlebars-helpers.md#include) を参照してください。

### サイト訪問者エクスペリエンス {#site-visitor-experience}

#### モデレーターと管理者 {#moderators-and-administrators}

ログインしたユーザーがモデレーターまたは管理者権限を持っている場合、コメントの作成者に関係なく、コンポーネントの設定で許可されたモデレートタスクを実行できます。

#### メンバー {#members}

サイト訪問者がログインすると、設定に応じて次の処理が行われます

* 新しいコメントをPost
* 自分のコメントを編集
* 自分のコメントを削除
* 他のユーザーのコメントにフラグを付ける

#### 匿名 {#anonymous}

ログインしていないサイト訪問者は、投稿されたコメントを読んだり、サポートされている場合は翻訳したりすることはできますが、コメントを追加したり、他のユーザーのコメントにフラグを立てたりすることはできません。

### 追加情報 {#additional-information}

詳しくは、開発者向けの [&#x200B; コメントの初期設定 &#x200B;](/help/communities/essentials-comments.md) ページを参照してください。

投稿されたコメントのモデレートについては、[&#x200B; ユーザー生成コンテンツのモデレート &#x200B;](/help/communities/moderate-ugc.md) を参照してください。

投稿されたコメントの翻訳については、[&#x200B; ユーザー生成コンテンツの翻訳 &#x200B;](/help/communities/translate-ugc.md) を参照してください。
