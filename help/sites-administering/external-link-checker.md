---
title: リンクチェック
description: リンクチェッカーは、内部リンクと外部リンクの両方を検証し、リンクの書き換えを許可します。
exl-id: 8ec4c399-b192-46fd-be77-3f49b83ce711
source-git-commit: b220adf6fa3e9faf94389b9a9416b7fca2f89d9d
workflow-type: tm+mt
source-wordcount: '986'
ht-degree: 1%

---

# リンクチェック{#the-link-checker}

コンテンツ作成者は、コンテンツページに含まれるすべてのリンクの検証に関心を持つ必要はありません。

リンクチェッカーは、コンテンツ作成者に対して、次のリンクを含む自動的な支援を行います。

* コンテンツに追加されたリンクの検証
* コンテンツ内のすべての外部リンクのリストの表示
* リンク変換の実行

リンクチェックには、検証内部を定義するなど、多数の[設定オプション](#configuring)があり、特定のリンクやリンクパターを検証から除外したり、リンクの書き換えルールを書き換えたりできます。

リンクチェックは、[内部リンク](#internal)と[外部リンクの両方を検証します。](#external)

>[!NOTE]
>
>リンクチェッカーはすべてのコンテンツページのリンクをチェックするので、リンクチェッカーは大規模なリポジトリのパフォーマンスに影響を与える可能性があります。 そのような場合は、[リンクチェックを実行する頻度](#configuring)または[無効にする頻度を設定する必要があります。](#disabling)

## 内部リンクチェック {#internal}

内部リンクは、AEMリポジトリ内の他のコンテンツへのリンクです。 内部リンクは、RTEのパスピッカーまたはカスタムコンポーネントを使用して追加できます。 次に例を示します。

* ページ`/content/wknd/us/en/adventures/ski-touring.html`
* [テキストコンポーネントに`/content/wknd/us/en/adventures/extreme-ironing.html`へのリンクを含めます。](https://experienceleague.adobe.com/docs/experience-manager-core-components/using/components/text.html)

内部リンクは、コンテンツ作成者がページに内部リンクを追加するとすぐに検証されます。 リンクが無効になった場合：

* 投稿から削除されます。 リンクのテキストは残りますが、リンク自体は削除されます。
* オーサリングインターフェイスでは壊れたリンクとして表示されます。

![ページのオーサリング時の内部リンクの破損](assets/link-checker-invalid-link-internal.png)

## 外部リンクのチェック {#external}

外部リンクとは、AEMリポジトリ外のコンテンツへのリンクです。 外部リンクは、RTEまたはカスタムコンポーネントを使用して追加できます。 次に例を示します。

* ページ`/content/wknd/us/en/adventures/ski-touring.html`
* [テキストコンポーネントに`https://bunwarmerthermalunderwear.com`へのリンクを含めます。](https://experienceleague.adobe.com/docs/experience-manager-core-components/using/components/text.html)

外部リンクの構文は、使用可能かどうかを確認することで検証されます。 このチェックは、設定可能な内部で非同期に実行されます。 リンクチェックで外部リンクが無効であることが確認された場合：

* 投稿から削除されます。 リンクのテキストは残りますが、リンク自体は削除されます。
* オーサリングインターフェイスでは壊れたリンクとして表示されます。

![ページのオーサリング時の内部リンクの破損](assets/link-checker-invalid-link-external.png)

さらに、[外部リンクチェッカー](#external-link-checker)インターフェイスでは、コンテンツページ上のすべての外部リンクの概要が表示されます。

### 外部リンクチェッカーの使用{#external-link-checker}

外部リンクチェッカーを使用するには：

1. **ナビゲーション**&#x200B;を使用して、**ツール**／**サイト**&#x200B;を選択します。
1. 「**外部リンクチェッカー**」を選択すると、すべての外部リンクのリストが表示されます。

![外部リンクチェックウィンドウ](assets/external-link-checker.png)

次の情報が表示されます。

* **ステータス**  — リンクの検証ステータス。次のいずれかを指定できます。
   * **有効**  — 外部リンクはリンクチェックで到達可能です
   * **保留中**  — 外部リンクはサイトコンテンツに追加されましたが、リンクチェッカーでまだ検証されていません
   * **無効**  — 外部リンクがリンクチェックで到達できません
* **URL**  — 外部リンク
* **リファラー**  — 外部リンクを含むコンテンツページ
   * これは、設定されている場合にのみ[が入力されます。](#configuring)
* **最後にチェック済み**  — リンクチェックが最後に外部リンクを検証した時点
   * [リンクのチェック頻度は設定可能です。](#configuring)
* **最後のステータス**  — 最後にリンクを確認したときに返される最後のHTMLステータスコード外部リンク
* **最後に使用可能**  — リンクが最後にリンクチェッカーで使用可能になってからの時間
* **最終アクセス日**  — 外部リンクを含むページがオーサリングインターフェイスで最後にアクセスされてからの経過時間

リンクのリストの上部にある2つのボタンを使用して、ウィンドウのコンテンツを操作できます。

* **更新**  — リストの内容を更新するには
* **チェック**  — リストで選択されている個々の外部リンクをチェックするには

### 外部リンクチェッカーの仕組み{#how-it-works}

外部リンクチェッカーは使いやすいものの、多くのサービスとその仕組みの理解に依存しています。 [必要に応じてリンクチェッカー](#configuring)を設定する方法を理解できます。

1. コンテンツ作成者がページへのリンクを保存するたびに、イベントハンドラーがトリガーされます。
1. イベントハンドラーは、`/content`の下のすべてのコンテンツを走査し、新しいリンクまたは更新されたリンクを確認し、リンクチェッカーのキャッシュに追加します。
1. 次に、**Day CQ Link Checker Service**&#x200B;が定期的に実行され、キャッシュ内のエントリで有効な構文がチェックされます。
1. 構文で検証されたリンクが[外部リンクチェッカー](#external-link-checker)ウィンドウに表示されます。 ただし、**保留中**&#x200B;の状態になります。
1. 次に、**Day CQ Link Checker Task**&#x200B;が定期的に実行され、GET呼び出しをおこなってリンクを検証します。
1. **Day CQ Link Checker Task**&#x200B;は、GET呼び出しの結果を使用して、外部リンクチェックウィンドウのエントリを更新します。

## リンクチェックの設定 {#configuring}

リンクチェックは、AEMで自動的に標準で使用できます。 ただし、動作を変更するために変更できるOSGi設定は多数あります。

* **Day CQ Link Checker Info Storage Service**  — このサービスは、リポジトリ内のリンクチェッカーキャッシュのサイズを定義します。
* **Day CQ Link Checker Service**  — このサービスは、外部リンクの構文の非同期チェックを実行します。チェック期間と、チェッカーがスキップするリンクのタイプを他のオプションの中で定義できます。
* **Day CQ Link Checker Task**  — このサービスは、外部リンクのGET検証を実行します。間隔の定義を分けて、不正なリンクや良いリンクを他のオプション間で確認できます。
* **Day CQ Link Checker Transformer**  — ユーザー定義のルールセットに基づいてリンクを変換できます。

OSGi設定の変更方法について詳しくは、 [OSGi設定](/help/sites-deploying/osgi-configuration-settings.md)のドキュメントを参照してください。

## リンクチェックの無効化 {#disabling}

リンクチェッカーを完全に無効にすることもできます。 この作業を行うには、以下の手順を実行します。

1. OSGiコンソールを開きます。
1. **Day CQ Link Checker Transformer**&#x200B;を編集します。
1. 無効にするオプションを選択します。
   * **チェックを無効にする**  — リンクの検証を無効にします
   * **書き換えを無効にする**  — リンク変換を無効にします。

>[!NOTE]
>
>コンテンツの作成を開始した後にリンクチェックを無効にした場合、[外部リンクチェックウィンドウ](#external-link-checker)にエントリが表示されることがありますが、そのエントリは更新されなくなります。
